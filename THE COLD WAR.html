<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0, user-scalable=yes">
    <title>THE COLD WAR</title>
    <style id="gameStyle">
        :root {
            --primary-color: #00FF41; /* 终端绿色 */
            --dark-color: #0d0d0d;
            --glow-color: rgba(0, 255, 65, 0.75);
            --scanline-color: rgba(0, 0, 0, 0.3);
        }

        body {
            background-color: var(--dark-color);
            color: var(--primary-color);
        }

        button {
            cursor: pointer;
            transition: all 0.3s ease;
            /* 默认移除所有outline，因为我们将用focus-visible来处理 */
            outline: none; 
        }

        /* 仅在鼠标悬停，或通过键盘导航获得焦点时，才显示高亮样式 */
        button:hover, 
        button:focus-visible {
            box-shadow: 0 0 25px var(--glow-color);
        }

        /* 针对绝对定位的按钮 */
        .top-right-button {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1rem;
            padding: 5px 10px;
        }

        /* 列表容器样式 - 更新版 */
        .list-container {
            width: 100%;
            max-height: 200px; /* 设置一个最大高度 */
            min-height: 100px; /* 保持一个最小高度 */
            overflow-y: auto; /* 当内容超出max-height时，显示垂直滚动条 */
            border: 1px dashed var(--primary-color);
            padding: 15px; /* 稍微增加内边距，避免滚动条和内容贴太近 */
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px; /* 按钮之间的间距 */
            box-sizing: border-box; /* 确保padding不会影响总宽度 */
        }

        /* 容器内的项目（按钮）样式 */
        .list-container > button {
            width: 100%; /* 让按钮宽度与容器一致 */
            text-align: left; /* 按钮内文本左对齐，更像列表 */
            padding: 10px 15px;
            font-size: 1.2rem; /* 可以为列表按钮设置稍小的字体 */
        }

        /* --- 可选：美化滚动条，使其更符合主题 --- */

        /* 整个滚动条 */
        .list-container::-webkit-scrollbar {
            width: 10px;
        }

        /* 滚动条轨道 */
        .list-container::-webkit-scrollbar-track {
            background: var(--dark-color);
            border-left: 1px solid var(--primary-color);
        }

        /* 滚动条滑块 */
        .list-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 2px;
        }

        /* 滚动条滑块鼠标悬停时 */
        .list-container::-webkit-scrollbar-thumb:hover {
            background: #00ff7f; /* 悬停时更亮一点 */
            box-shadow: 0 0 10px var(--glow-color);
        }

        .list-container div {
            padding: 5px;
            cursor: pointer;
            border: 1px solid transparent;
            display: flex;
            gap: 10px;
            align-items: baseline;
        }
        .list-container .timestamp {
            color: rgba(0, 255, 65, 0.7);
            font-size: 0.9em;
            min-width: 0px;
        }
        
        .list-container div:hover {
             background-color: rgba(0, 255, 65, 0.1);
             border-color: var(--primary-color);
        }
        
        .container {
            display: none;
        }
        .container.active {
            display: block;
        }

        .game {
            display: none;
        }
        .game.active {
            display: block;
        }

        .box {
            display: none;
        }
        .box.active {
            display: block;
        }

        .influence {
            display: none;
        }
        .influence.active {
            display: block;
        }

        #connectionStatus { 
        position: fixed; 
        top: 0; 
        left: 0;
        width: 100%; 
        background: rgba(255,0,0,0.8); 
        color: white; 
        padding: 10px; 
        display: none; 
        z-index: 10; 
        font-size: 14px; 
        }

        .card-button {
            position: relative;
            width: 219px;
            height: 315px;
            font-size: 16px;
            background-color: rgb(227,245,255);
            cursor: pointer;
            border: 2px solid #333;
            padding: 20px;
            gap: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        .Neutral {
            position: absolute; left: 9.45%; top: 6.57%; width: 12.6%; height: 7.76%; background-color: yellow; font-size: 14px; font-weight:bold; color: black; text-align: center; line-height:180%;
        }
        .US {
            position: absolute; left: 9.45%; top: 6.57%; width: 12.6%; height: 7.76%; background-color: blue; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .USSR {
            position: absolute; left: 9.45%; top: 6.57%; width: 12.6%; height: 7.76%; background-color: red; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .EARLY {
            position: absolute; left: 22.05%; top: 6.57%; width: 68.5%; height: 7.76%; background-color: lightgreen; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .MID {
            position: absolute; left: 22.05%; top: 6.57%; width: 68.5%; height: 7.76%; background-color: darkgreen; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .LATE {
            position: absolute; left: 22.05%; top: 6.57%; width: 68.5%; height: 7.76%; background-color: black; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .card-title {
            position: absolute;
            font-weight: 900;
            top: 12.09%;
            padding: 10%;
            left: 10%;
            right: 10%;
            text-align: center;
        }
        .card-description {
            position: absolute;
            font-size: 12px;
            top: 27.61%;
            padding: 10%;
            left: 10%;
            right: 10%;
            text-align: center;
            white-space: pre-line;
        }
        
        .chat-window {
            position: absolute;
            width: 400px;
            height: 400px;
            top: 50px;
            left: 50px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            box-shadow: 0 0 20px var(--glow-color);
            display: none;
            flex-direction: column;
            z-index: 1000;
        }

        .chat-window.active {
            display: flex;
        }

        .chat-header {
            background: rgba(0, 255, 65, 0.1);
            padding: 10px;
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h2 {
            margin: 0;
            font-size: 1.8rem;
            text-shadow: 0 0 10px var(--glow-color);
        }

        .resize-handle {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 30px;
            height: 30px;
            background: var(--primary-color);
            cursor: nwse-resize;
            touch-action: none;
            border: 2px solid rgba(0, 255, 65, 0.5);
            z-index: 10;
        }
    </style>
    <style id="fullStyle">
        /* 引入复古的等宽字体 */
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        :root {
            --primary-color: #00FF41; /* 终端绿色 */
            --dark-color: #0d0d0d;
            --glow-color: rgba(0, 255, 65, 0.75);
            --scanline-color: rgba(0, 0, 0, 0.3);
        }

        body {
            background-color: var(--dark-color);
            color: var(--primary-color);
            font-family: 'VT323', monospace; /* 使用等宽字体 */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 113vh;
            margin: 0;
        }

        /* 添加扫描线和光晕效果 */
        body::before {
            content: " ";
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, var(--scanline-color) 51%), linear-gradient(90deg, var(--scanline-color) 50%, rgba(18, 16, 16, 0) 51%);
            background-size: 100% 4px, 4px 100%;
            z-index: 2;
            pointer-events: none;
            animation: scanlines 10s linear infinite;
        }
        
        /* 扫描线动画 */
        @keyframes scanlines {
            from { background-position: 0 0; }
            to { background-position: 0 100vh; }
        }

        /* 屏幕闪烁效果 */
        body::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: rgba(18, 16, 16, 0.1);
            opacity: 0;
            z-index: 2;
            pointer-events: none;
            animation: flicker 0.15s infinite;
        }

        @keyframes flicker {
            0% { opacity: 0.1; }
            20% { opacity: 1; }
            40% { opacity: 0.3; }
            60% { opacity: 0.8; }
            80% { opacity: 0.2; }
            100% { opacity: 1; }
        }


        .container {
            display: none; /* 默认所有容器都隐藏 */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px; /* 元素之间的间距 */
            width: 90%;
            max-width: 500px;
            padding: 40px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            box-shadow: 0 0 20px var(--glow-color);
            background: rgba(0, 0, 0, 0.2); /* 半透明背景增加深度 */
            position: relative;
        }

        .container.active {
            display: flex; /* class为active的容器显示 */
        }

        h1 {
            font-size: 3rem;
            margin: 0;
            padding: 0;
            text-align: center;
            line-height: 1.1;
            text-shadow: 0 0 10px var(--glow-color);
            animation: text-flicker 3s linear infinite;
        }

        h1:nth-of-type(2) { /* 第二个H1，"THE COLD WAR" */
            font-size: 2.5rem;
            margin-top: 10px;
        }

        @keyframes text-flicker {
            0% { opacity: 0.8; }
            5% { opacity: 0.5; }
            10% { opacity: 0.9; }
            15% { opacity: 0.4; }
            20% { opacity: 1; }
            100% { opacity: 1; }
        }


        input[type="text"],
        input[type="password"] {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
            text-align: center;
            transition: all 0.3s ease;
        }

        input::placeholder {
            color: rgba(0, 255, 65, 0.5);
            text-align: center;
        }

        input:focus {
            outline: none;
            box-shadow: 0 5px 15px -5px var(--glow-color);
            background: rgba(0, 255, 65, 0.05);
        }

        /* --- 按钮样式 - 更新版 --- */
        button {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            /* 默认移除所有outline，因为我们将用focus-visible来处理 */
            outline: none; 
        }

        /* 仅在鼠标悬停，或通过键盘导航获得焦点时，才显示高亮样式 */
        button:hover, 
        button:focus-visible {
            background: var(--primary-color);
            color: var(--dark-color);
            box-shadow: 0 0 25px var(--glow-color);
        }
        
        /* 针对绝对定位的按钮 */
        .top-right-button {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1rem;
            padding: 5px 10px;
        }

        /* 列表容器样式 - 更新版 */
        .list-container {
            width: 100%;
            max-height: 200px; /* 设置一个最大高度 */
            min-height: 100px; /* 保持一个最小高度 */
            overflow-y: auto; /* 当内容超出max-height时，显示垂直滚动条 */
            border: 1px dashed var(--primary-color);
            padding: 15px; /* 稍微增加内边距，避免滚动条和内容贴太近 */
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px; /* 按钮之间的间距 */
            box-sizing: border-box; /* 确保padding不会影响总宽度 */
        }

        /* 容器内的项目（按钮）样式 */
        .list-container > button {
            width: 100%; /* 让按钮宽度与容器一致 */
            text-align: left; /* 按钮内文本左对齐，更像列表 */
            padding: 10px 15px;
            font-size: 1.2rem; /* 可以为列表按钮设置稍小的字体 */
        }

        /* --- 可选：美化滚动条，使其更符合主题 --- */

        /* 整个滚动条 */
        .list-container::-webkit-scrollbar {
            width: 10px;
        }

        /* 滚动条轨道 */
        .list-container::-webkit-scrollbar-track {
            background: var(--dark-color);
            border-left: 1px solid var(--primary-color);
        }

        /* 滚动条滑块 */
        .list-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 2px;
        }

        /* 滚动条滑块鼠标悬停时 */
        .list-container::-webkit-scrollbar-thumb:hover {
            background: #00ff7f; /* 悬停时更亮一点 */
            box-shadow: 0 0 10px var(--glow-color);
        }

        .list-container div {
            padding: 5px;
            cursor: pointer;
            border: 1px solid transparent;
            display: flex;
            gap: 10px;
            align-items: baseline;
        }
        .list-container .timestamp {
            color: rgba(0, 255, 65, 0.7);
            font-size: 0.85em;
            min-width: 0px;
        }
        
        .list-container div:hover {
             background-color: rgba(0, 255, 65, 0.1);
             border-color: var(--primary-color);
        }

        .game {
            display: none;
        }
        .game.active {
            display: block;
        }

        .box {
            display: none;
        }
        .box.active {
            display: block;
        }

        .influence {
            display: none;
        }
        .influence.active {
            display: block;
        }

        #connectionStatus { 
        position: fixed; 
        top: 0; 
        left: 0;
        width: 100%; 
        background: rgba(255,0,0,0.8); 
        color: white; 
        padding: 10px; 
        display: none; 
        z-index: 20; 
        font-size: 14px; 
        }

        .card-button {
            position: relative;
            width: 219px;
            height: 315px;
            font-size: 16px;
            background-color: rgb(227,245,255);
            cursor: pointer;
            border: 2px solid #333;
            padding: 20px;
            gap: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        .Neutral {
            position: absolute; left: 9.45%; top: 6.57%; width: 12.6%; height: 7.76%; background-color: yellow; font-size: 14px; font-weight:bold; color: black; text-align: center; line-height:180%;
        }
        .US {
            position: absolute; left: 9.45%; top: 6.57%; width: 12.6%; height: 7.76%; background-color: blue; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .USSR {
            position: absolute; left: 9.45%; top: 6.57%; width: 12.6%; height: 7.76%; background-color: red; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .EARLY {
            position: absolute; left: 22.05%; top: 6.57%; width: 68.5%; height: 7.76%; background-color: lightgreen; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .MID {
            position: absolute; left: 22.05%; top: 6.57%; width: 68.5%; height: 7.76%; background-color: darkgreen; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .LATE {
            position: absolute; left: 22.05%; top: 6.57%; width: 68.5%; height: 7.76%; background-color: black; font-size: 14px; font-weight:bold; color: white; text-align: center; line-height:180%;
        }
        .card-title {
            position: absolute;
            font-weight: 900;
            top: 12.09%;
            padding: 10%;
            left: 10%;
            right: 10%;
            text-align: center;
        }
        .card-description {
            position: absolute;
            font-size: 12px;
            top: 27.61%;
            padding: 10%;
            left: 10%;
            right: 10%;
            text-align: center;
            white-space: pre-line;
        }

        .chat-window {
            position: absolute;
            width: 400px;
            height: 400px;
            top: 50px;
            left: 50px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            box-shadow: 0 0 20px var(--glow-color);
            display: none;
            flex-direction: column;
            z-index: 1000;
        }

        .chat-window.active {
            display: flex;
        }

        .chat-header {
            background: rgba(0, 255, 65, 0.1);
            padding: 10px;
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h2 {
            margin: 0;
            font-size: 1.8rem;
            text-shadow: 0 0 10px var(--glow-color);
        }

        .resize-handle {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 30px;
            height: 30px;
            background: var(--primary-color);
            cursor: nwse-resize;
            touch-action: none;
            border: 2px solid rgba(0, 255, 65, 0.5);
            z-index: 10;
        }
    </style>
</head>

<body>
    <div id="connectionStatus">连接已断开  （使用 Chrome、Safari、Edge 等支持 WebSocket 的浏览器进行连接）</div>
    <div>
        <button onclick="document.documentElement.requestFullscreen()" style="position: absolute; top: 5px; left: 5px; font-size: 10px; padding: 5px 10px; z-index: 10;">全屏</button>
        <button id="viewPdfBtn" style="position: absolute; top: 5px; left: 75px; font-size: 10px; padding: 5px 10px; z-index: 10;">游戏简介</button>
        <button onclick="if(username !== null) toggleChatWindow(); if(username === null) document.getElementById('loginStatus').innerText = '先登录才能进行聊天';" style="position: absolute; top: 5px; left: 165px; font-size: 10px; padding: 5px 10px; z-index: 10;">聊天室</button>
        
    </div>

    <div id="loginContainer" class="container active">
        <h1>冷战</h1>
        <h1>THE COLD WAR</h1>
        <input type="text" id="username" placeholder="> 用户名AGENT ID (支持中英文和数字)">
        <input type="password" id="password" placeholder="> 密码PASSCODE">
        <button onclick="register()">>> 注册REGISTER</button>
        <button onclick="login()">> 登录LOGIN</button>
        <div id="loginStatus">等待连接中……(使用 Chrome、Safari、Edge 等支持 WebSocket 的浏览器进行连接)</div>
        <div style="font-size: 12px;">冷战热斗[去运气化][测试版] V0.1</div>
    </div>

    <div id="menuContainer" class="container">
        <button onclick="logout()" class="top-right-button">[ 登出LOGOUT ]</button>
        <div id="menuStatus" style="color:var(--primary-color);"></div>
        
        <button onclick="ws.send(JSON.stringify({ type: 'historical_record'}))">历史记录 - Historical Record</button>
        <button onclick="ws.send(JSON.stringify({ type: 'create_room'}))">创建房间 - Create Room</button>
        <button onclick="ws.send(JSON.stringify({ type: 'delete_room'}))">删除房间 - Delete Room</button>
        
        <div>-- 房间列表 - Room List --</div>
        <div id="roomContainer" class="list-container">
        </div>
        
        <div>-- 继续游戏 - Continue Game --</div>
        <div id="continueGame" class="list-container">
        </div>
    </div>

    <div id="HistoricalContainer" class="container">
        <button onclick="showContainer('menuContainer');" class="top-right-button">[ 返回RETURN ]</button>
        <h2>-- 历史游戏 - DEBRIEFING --</h2>
        <div id="HistoricalGameContainer" class="list-container">
        </div>
    </div>

    <div id="gameContainer" class="container">
        <button onclick="quit()" style="position: absolute; top: 10px; right: 10px;">退出</button>
        <div id="gameStatus" style="font-size:12px; margin-top:35px;"></div>
        <div id="choosegame" class="game">
            <select id="valueSelect">
                <option value="0">选择出价</option>
                <script>
                    for (let i = 0; i <= 10; i++) {
                        document.write(`<option value="${i}">${i}</option>`);
                    }
                </script>
            </select>
            <button onclick="ws.send(JSON.stringify({ type: 'choose_US', value: document.getElementById('valueSelect').value })); document.getElementById('choosegame').classList.remove('active'); document.getElementById('gameStatus').innerText = `已选择美国${document.getElementById('valueSelect').value}，等待其他玩家选择`;">美国</button>
            <button onclick="ws.send(JSON.stringify({ type: 'choose_USSR', value: document.getElementById('valueSelect').value })); document.getElementById('choosegame').classList.remove('active'); document.getElementById('gameStatus').innerText = `已选择苏联${document.getElementById('valueSelect').value}，等待其他玩家选择`;">苏联</button>
        </div>
        <div id="reactiongame" class="game">
            <button onclick="this.style.display = 'none'; const reactiontime1 = new Date().getTime(); document.getElementById('greenbox').style.display = 'block'; setTimeout(function () {document.getElementById('greenbox').style.display = 'none'; window.reactiontime3 = new Date().getTime(); document.getElementById('redbox').style.display = 'block';}, Math.random() * 5000 + 2000)">开始测试</button>
            <button id="greenbox" style="width: 100vh; height: 100vh; display: none; background-color:green;" onclick="this.style.display = 'none'; document.getElementById('reactiongame').classList.remove('active'); const reactiontime2 = new Date().getTime(); ws.send(JSON.stringify({ type: 'reactiongame', success: false, score: reactiontime2 - reactiontime1})); document.getElementById('gameStatus').innerText = `你的成绩：失败，${reactiontime2 - reactiontime1}毫秒，等待你的对手`;"></button>
            <button id="redbox" style="width: 100vh; height: 100vh; display: none; background-color:red;" onclick="this.style.display = 'none'; document.getElementById('reactiongame').classList.remove('active'); const reactiontime4 = new Date().getTime(); ws.send(JSON.stringify({ type: 'reactiongame', success: true, score: reactiontime4 - reactiontime3})); document.getElementById('gameStatus').innerText = `你的成绩：成功，${reactiontime4 - reactiontime3}毫秒，等待你的对手`;"></button>
        </div>
        <div id="maingame" class="game">
            <div id="gamestate" style="font-weight:bold;"></div>
            <div id="map" style="position: relative; width: 2448px; height: 1584px; overflow: hidden; background-image: url('/map.jpg'); background-size: cover;">
                <button id="Mexico" style="position: absolute; left: 3.4%; top: 40.5%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">墨西哥</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="MexicoUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="MexicoUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="MexicoUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="MexicoUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Cuba" style="position: absolute; left: 14.7%; top: 43.9%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">古巴</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="CubaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="CubaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="CubaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="CubaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Guatemala" style="position: absolute; left: 7.1%; top: 45.25%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">危地马拉</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="GuatemalaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="GuatemalaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="GuatemalaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="GuatemalaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="ElSalvador" style="position: absolute; left: 5.75%; top: 50.2%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">萨尔瓦多</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ElSalvadorUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ElSalvadorUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ElSalvadorUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ElSalvadorUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Honduras" style="position: absolute; left: 10.09%; top: 49.81%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">洪都拉斯</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="HondurasUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="HondurasUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="HondurasUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="HondurasUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Nicaragua" style="position: absolute; left: 14.46%; top: 49.87%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">尼加拉瓜</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="NicaraguaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="NicaraguaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="NicaraguaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="NicaraguaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Haiti" style="position: absolute; left: 19%; top: 48.11%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">海地</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="HaitiUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="HaitiUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="HaitiUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="HaitiUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="DominicanRep" style="position: absolute; left: 23.2%; top: 48.04%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">多米尼加共和国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="DominicanRepUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="DominicanRepUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="DominicanRepUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="DominicanRepUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="CostaRica" style="position: absolute; left: 9.72%; top: 54.48%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">哥斯达黎加</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="CostaRicaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="CostaRicaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="CostaRicaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="CostaRicaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Panama" style="position: absolute; left: 14.54%; top: 54.42%; width: 4%; height: 4%; background-color: rgb(220,224,163); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">巴拿马</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="PanamaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="PanamaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="PanamaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="PanamaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>

                <button id="Colombia" style="position: absolute; left: 17.32%; top: 59.91%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">哥伦比亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ColombiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ColombiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ColombiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ColombiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Venezuela" style="position: absolute; left: 19.65%; top: 54.99%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">委内瑞拉</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="VenezuelaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="VenezuelaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="VenezuelaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="VenezuelaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Ecuador" style="position: absolute; left: 12.79%; top: 61.99%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">厄瓜多尔</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="EcuadorUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="EcuadorUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="EcuadorUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="EcuadorUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Peru" style="position: absolute; left: 15.24%; top: 67.05%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">秘鲁</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="PeruUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="PeruUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="PeruUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="PeruUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Bolivia" style="position: absolute; left: 19.73%; top: 71.28%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">玻利维亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="BoliviaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="BoliviaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="BoliviaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="BoliviaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Paraguay" style="position: absolute; left: 22.22%; top: 76.26%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">巴拉圭</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ParaguayUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ParaguayUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ParaguayUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ParaguayUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Argentina" style="position: absolute; left: 18.83%; top: 85.61%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">阿根廷</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ArgentinaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ArgentinaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ArgentinaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ArgentinaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Chile" style="position: absolute; left: 17.32%; top: 76.83%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">智利</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ChileUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ChileUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ChileUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ChileUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Brazil" style="position: absolute; left: 27.21%; top: 66.67%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">巴西</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="BrazilUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="BrazilUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="BrazilUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="BrazilUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Uruguay" style="position: absolute; left: 23.57%; top: 81.94%; width: 4%; height: 4%; background-color: rgb(160,201,135); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">乌拉圭</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="UruguayUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="UruguayUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="UruguayUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="UruguayUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>

                <button id="Canada" style="position: absolute; left: 16.42%; top: 21.78%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">加拿大</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="CanadaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="CanadaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="CanadaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="CanadaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="UK" style="position: absolute; left: 33.09%; top: 16.29%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">英国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">5</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="UKUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="UKUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="UKUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="UKUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="France" style="position: absolute; left: 35.62%; top: 26.45%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">法国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="FranceUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="FranceUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="FranceUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="FranceUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Benelux" style="position: absolute; left: 36.4%; top: 20.96%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">比荷卢联盟</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="BeneluxUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="BeneluxUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="BeneluxUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="BeneluxUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="SpainPortugal" style="position: absolute; left: 32.52%; top: 32.83%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">西班牙/葡萄牙</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SpainPortugalUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SpainPortugalUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SpainPortugalUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SpainPortugalUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="WestGermany" style="position: absolute; left: 40.69%; top: 21.02%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">西德</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="WestGermanyUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="WestGermanyUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="WestGermanyUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="WestGermanyUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="EastGermany" style="position: absolute; left: 42.23%; top: 16.54%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">东德</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="EastGermanyUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="EastGermanyUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="EastGermanyUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="EastGermanyUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Poland" style="position: absolute; left: 46.69%; top: 16.51%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">波兰</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="PolandUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="PolandUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="PolandUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="PolandUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Czechoslovakia" style="position: absolute; left: 45.92%; top: 21%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">捷克斯洛伐克</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="CzechoslovakiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="CzechoslovakiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="CzechoslovakiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="CzechoslovakiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Hungary" style="position: absolute; left: 46.81%; top: 25.67%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">匈牙利</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="HungaryUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="HungaryUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="HungaryUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="HungaryUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Romania" style="position: absolute; left: 51.18%; top: 25.63%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">罗马尼亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="RomaniaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="RomaniaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="RomaniaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="RomaniaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Yugoslavia" style="position: absolute; left: 45.83%; top: 30.37%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">南斯拉夫</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="YugoslaviaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="YugoslaviaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="YugoslaviaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="YugoslaviaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Bulgaria" style="position: absolute; left: 50.29%; top: 30.4%; width: 4%; height: 4%; background-color: rgb(187,169,211); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">保加利亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="BulgariaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="BulgariaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="BulgariaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="BulgariaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Norway" style="position: absolute; left: 37.79%; top: 7.32%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">挪威</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="NorwayUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="NorwayUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="NorwayUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="NorwayUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Sweden" style="position: absolute; left: 43.71%; top: 11.3%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">瑞典</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SwedenUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SwedenUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SwedenUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SwedenUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Finland" style="position: absolute; left: 49.4%; top: 7.7%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(187,169,211);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">芬兰</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="FinlandUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="FinlandUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="FinlandUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="FinlandUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Denmark" style="position: absolute; left: 38.77%; top: 12.03%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">丹麦</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="DenmarkUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="DenmarkUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="DenmarkUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="DenmarkUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Italy" style="position: absolute; left: 41.34%; top: 30.3%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">意大利</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ItalyUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ItalyUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ItalyUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ItalyUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Austria" style="position: absolute; left: 42.48%; top: 25.67%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(187,169,211);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">奥地利</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="AustriaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="AustriaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="AustriaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="AustriaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Greece" style="position: absolute; left: 46.81%; top: 35.23%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">希腊</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="GreeceUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="GreeceUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="GreeceUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="GreeceUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Turkey" style="position: absolute; left: 54.61%; top: 30.93%; width: 4%; height: 4%; background-color: rgb(163,134,190); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">土耳其</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="TurkeyUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="TurkeyUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="TurkeyUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="TurkeyUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Egypt" style="position: absolute; left: 49.31%; top: 44.76%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">埃及</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="EgyptUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="EgyptUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="EgyptUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="EgyptUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Israel" style="position: absolute; left: 51.35%; top: 40.03%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">以色列</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="IsraelUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="IsraelUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="IsraelUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="IsraelUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Jordan" style="position: absolute; left: 54.13%; top: 44.7%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">约旦</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="JordanUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="JordanUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="JordanUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="JordanUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Lebanon" style="position: absolute; left: 52.08%; top: 35.54%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">黎巴嫩</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="LebanonUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="LebanonUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="LebanonUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="LebanonUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Syria" style="position: absolute; left: 56.29%; top: 35.42%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">叙利亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SyriaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SyriaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SyriaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SyriaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="SaudiArabia" style="position: absolute; left: 57.8%; top: 49.17%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">沙特阿拉伯</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SaudiArabiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SaudiArabiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SaudiArabiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SaudiArabiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Iraq" style="position: absolute; left: 56.29%; top: 40.03%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">伊拉克</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="IraqUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="IraqUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="IraqUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="IraqUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Iran" style="position: absolute; left: 60.5%; top: 40.08%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">伊朗</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="IranUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="IranUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="IranUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="IranUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Libya" style="position: absolute; left: 44.85%; top: 44.07%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">利比亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="LibyaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="LibyaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="LibyaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="LibyaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="GulfStates" style="position: absolute; left: 59.03%; top: 44.57%; width: 4%; height: 4%; background-color: rgb(199,234,253); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">海湾诸国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="GulfStatesUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="GulfStatesUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="GulfStatesUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="GulfStatesUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Algeria" style="position: absolute; left: 37.95%; top: 39.39%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">阿尔及利亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="AlgeriaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="AlgeriaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="AlgeriaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="AlgeriaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Morocco" style="position: absolute; left: 33.62%; top: 41.41%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">摩洛哥</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="MoroccoUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="MoroccoUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="MoroccoUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="MoroccoUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Tunisia" style="position: absolute; left: 42.4%; top: 38.83%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">突尼西亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="TunisiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="TunisiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="TunisiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="TunisiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="WestAfricanStates" style="position: absolute; left: 33.17%; top: 47.35%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">西非诸国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="WestAfricanStatesUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="WestAfricanStatesUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="WestAfricanStatesUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="WestAfricanStatesUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="SaharanStates" style="position: absolute; left: 39.67%; top: 48.99%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">撒哈拉诸国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SaharanStatesUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SaharanStatesUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SaharanStatesUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SaharanStatesUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Sudan" style="position: absolute; left: 50.04%; top: 50.19%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">苏丹</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SudanUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SudanUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SudanUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SudanUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Ethiopia" style="position: absolute; left: 53.1%; top: 54.92%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">埃塞俄比亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="EthiopiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="EthiopiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="EthiopiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="EthiopiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Somalia" style="position: absolute; left: 57.88%; top: 56.94%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">索马里</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SomaliaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SomaliaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SomaliaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SomaliaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Kenya" style="position: absolute; left: 53.59%; top: 60.98%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">肯尼亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="KenyaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="KenyaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="KenyaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="KenyaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Zaire" style="position: absolute; left: 48.45%; top: 62.88%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">扎伊尔</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ZaireUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ZaireUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ZaireUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ZaireUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Angola" style="position: absolute; left: 44.69%; top: 68.37%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">安哥拉</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="AngolaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="AngolaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="AngolaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="AngolaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Zimbabwe" style="position: absolute; left: 49.92%; top: 70.64%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">津巴布韦</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ZimbabweUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ZimbabweUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ZimbabweUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ZimbabweUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="SouthAfrica" style="position: absolute; left: 46.49%; top: 80.43%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">南非</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SouthAfricaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SouthAfricaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SouthAfricaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SouthAfricaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Nigeria" style="position: absolute; left: 41.38%; top: 55.42%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">尼日利亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="NigeriaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="NigeriaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="NigeriaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="NigeriaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Cameroon" style="position: absolute; left: 43.34%; top: 60.67%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">喀麦隆</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="CameroonUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="CameroonUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="CameroonUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="CameroonUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="IvoryCoast" style="position: absolute; left: 35.95%; top: 56.12%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">科特迪瓦</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="IvoryCoastUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="IvoryCoastUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="IvoryCoastUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="IvoryCoastUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="SEAfricanStates" style="position: absolute; left: 54.17%; top: 67.17%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">东南非诸国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SEAfricanStatesUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SEAfricanStatesUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SEAfricanStatesUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SEAfricanStatesUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Botswana" style="position: absolute; left: 48.53%; top: 75.44%; width: 4%; height: 4%; background-color: rgb(255,239,170); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">博茨瓦纳</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="BotswanaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="BotswanaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="BotswanaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="BotswanaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Afghanistan" style="position: absolute; left: 65.6%; top: 37.06%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">阿富汗</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="AfghanistanUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="AfghanistanUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="AfghanistanUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="AfghanistanUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Pakistan" style="position: absolute; left: 65.69%; top: 42.93%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">巴基斯坦</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="PakistanUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="PakistanUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="PakistanUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="PakistanUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="India" style="position: absolute; left: 70.38%; top: 46.02%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">印度</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="IndiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="IndiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="IndiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="IndiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Burma" style="position: absolute; left: 75.69%; top: 46.91%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">缅甸</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="BurmaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="BurmaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="BurmaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="BurmaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Thailand" style="position: absolute; left: 78.1%; top: 52.34%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">泰国</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="ThailandUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="ThailandUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="ThailandUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="ThailandUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Vietnam" style="position: absolute; left: 82.43%; top: 52.34%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">越南</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="VietnamUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="VietnamUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="VietnamUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="VietnamUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="LaosCambodia" style="position: absolute; left: 79.9%; top: 47.6%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">老挝/柬埔寨</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="LaosCambodiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="LaosCambodiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="LaosCambodiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="LaosCambodiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Malaysia" style="position: absolute; left: 80.11%; top: 59.41%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">马来西亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="MalaysiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="MalaysiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="MalaysiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="MalaysiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Philippines" style="position: absolute; left: 88.81%; top: 52.21%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">菲律宾</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">2</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="PhilippinesUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="PhilippinesUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="PhilippinesUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="PhilippinesUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Indonesia" style="position: absolute; left: 87.21%; top: 64.96%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 61.5%; width: 100%; height: 38.5%; background-color: rgb(255,213,4);"></div>
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">印度尼西亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">1</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="IndonesiaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="IndonesiaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="IndonesiaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="IndonesiaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="NorthKorea" style="position: absolute; left: 87.95%; top: 30.87%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">北朝鲜</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="NorthKoreaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="NorthKoreaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="NorthKoreaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="NorthKoreaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="SouthKorea" style="position: absolute; left: 88.81%; top: 35.48%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">南韩</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="SouthKoreaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="SouthKoreaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="SouthKoreaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="SouthKoreaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Japan" style="position: absolute; left: 92.24%; top: 39.84%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(101,81,169); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">日本</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: brown; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:white;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="JapanUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="JapanUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="JapanUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="JapanUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Taiwan" style="position: absolute; left: 86.97%; top: 45.2%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">台湾</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">3</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="TaiwanUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="TaiwanUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="TaiwanUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="TaiwanUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
                <button id="Australia" style="position: absolute; left: 87.3%; top: 72.98%; width: 4%; height: 4%; background-color: rgb(242,164,30); border: 2px solid black;" onclick="Onclick(this)">
                    <div style="position: absolute; left: 0%; top: 0%; width: 100%; height: 23%; background-color: rgb(254,254,204); border-bottom: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">澳大利亚</div>
                    <div style="position: absolute; right: 0%; top: 0%; width: 15%; height: 23%; background-color: yellow; border-left: 2px solid black; font-size:10px; font-weight:bold; line-height:150%; color:black;">4</div>
                    <div style="position: absolute; left: 49.5%; top: 23.5%; height: 76.5%; border-right: 1.5px dashed black; width: 0;"></div>
                    <div id="AustraliaUSinfluence" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:blue;"></div>
                    <div id="AustraliaUSSRinfluence" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: white; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:red;"></div>
                    <div id="AustraliaUSinfluenceC" class="influence" style="position: absolute; left: 2.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: blue; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                    <div id="AustraliaUSSRinfluenceC" class="influence" style="position: absolute; left: 52.376%; top: 27.032%; width: 43.664%; height: 69.8%; background-color: red; border: 0.1px solid gray; border-radius: 10px; font-size:20px; font-weight:bold; line-height:220%; color:white;"></div>
                </button>
            </div>
            <div id="isCubanMissileCrisis"></div>
            <button id="aaaaa" style="display: none;" onclick="aaaaa()">放弃</button>
            <button id="bbbbb" style="display: none;" onclick="bbbbb()">跳过</button>
            <div id="action" style="display: none;">
                <div>从三个行动中选择，再次点击可重置，选择行动后点击国家进行操作，完成后点击完成</div>
                <button id="VietnamRevoltsbutton" style="display: none;" onclick="VietnamRevoltsbutton()">将点数全部用于东南亚</button>
                <button onclick="setplacing()">放置影响力</button>
                <button onclick="setrealignment()">调整阵容</button>
                <button id="actioncoup" onclick="setcoup()">政变</button>
                <button onclick="isfinish()">完成</button>
            </div>
            <div id="jump" style="display: none;">
                <div id="jumpmessage"></div>
                <button onclick="Jump()">跳过</button>
            </div>
            <div id="gamemessage" style="font-weight:bold;"></div>
            <div id="messageforyou" style="font-weight:bold;"></div>
            <div id="sure"></div>
            <div id="tempcardscontainer" style="width: 2448px; display: none;"></div>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('cardsselection').classList.add('active');">选牌堆</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('UScardscontainer').classList.add('active'); document.getElementById('UStheChinacardcontainer').classList.add('active');">美国手牌</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('USSRcardscontainer').classList.add('active'); document.getElementById('USSRtheChinacardcontainer').classList.add('active');">苏联手牌</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('USdiscardcontainer').classList.add('active');">美国弃牌堆</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('USSRdiscardcontainer').classList.add('active');">苏联弃牌堆</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('finaldiscardcontainer').classList.add('active');">最终弃牌堆</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('USselectioncontainer').classList.add('active');">美国可选堆</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('USSRselectioncontainer').classList.add('active');">苏联可选堆</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('effectiveeventscontainer').classList.add('active');">生效的事件</button>
            <button onclick="document.querySelectorAll('.box').forEach(c => c.classList.remove('active')); document.getElementById('removedcardscontainer').classList.add('active');">移出的卡牌</button>
            <div id="cardsselection" class="box active" style="width: 2228px; height: 3000px;"></div>
            <div class="parent-container" style="display: flex; width: 2448px;">
                <div id="UScardscontainer" class="box" style="width: 2228px; height: 3000px;"></div>
                <div id="UStheChinacardcontainer" class="box"></div>
            </div>
            <div class="parent-container" style="display: flex; width: 2448px;">
                <div id="USSRcardscontainer" class="box" style="width: 2228px; height: 3000px;"></div>
                <div id="USSRtheChinacardcontainer" class="box"></div>
            </div>
            <div id="USdiscardcontainer" class="box" style="width: 2228px; height: 3000px;"></div>
            <div id="USSRdiscardcontainer" class="box" style="width: 2228px; height: 3000px;"></div>
            <div id="finaldiscardcontainer" class="box" style="width: 2228px; height: 3000px;"></div>
            <div id="USselectioncontainer" class="box" style="width: 2228px; height: 3000px;"></div>
            <div id="USSRselectioncontainer" class="box" style="width: 2228px; height: 3000px;"></div>
            <div id="effectiveeventscontainer" class="box" style="width: 2228px; height: 3000px;"></div>
            <div id="removedcardscontainer" class="box" style="width: 2228px; height: 3000px;"></div>
        </div>
    </div>

    <div id="chatWindow" class="chat-window">
        <div class="chat-header">
            <h2>聊天室</h2>
            <button class="top-right-button" onclick="toggleChatWindow()">关闭</button>
        </div>
        <div>
            <button id="lobbyChatButton" onclick="switchChatMode('lobby')">大厅</button>
            <button id="privateChatButton" onclick="switchChatMode('private')">对手</button>
        </div>
        <div class="list-container" id="chat-box"></div>
        <input type="text" id="message-input" placeholder="输入大厅消息...">
        <button id="send-button">发送</button>
        <div class="resize-handle"></div>
    </div>

    
    
    <script>
        // 连接到 WebSocket 服务器
        const ws = new WebSocket('wss://6d9c861f68f7.ngrok-free.app');


        let username = null;
        let opponent = null;
        let data = null;
        let actiontype = '';
        let round = 0;
        let turn = 0;
        let mode = 0;

        // 页面元素
        const chatWindow = document.getElementById('chatWindow');
        const chatBox = document.getElementById('chat-box');
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');
        const lobbyChatButton = document.getElementById('lobbyChatButton');
        const privateChatButton = document.getElementById('privateChatButton');
        const chatHeader = chatWindow.querySelector('.chat-header');
        const resizeHandle = chatWindow.querySelector('.resize-handle');

        let chatMode = 'lobby';
        let isDragging = false;
        let isResizing = false;
        let startX, startY, startWidth, startHeight;
        const lobbyMessages = []; // 存储大厅聊天记录
        const privateMessages = []; // 存储双人聊天记录

        function formatTimestamp(isoString) {
            const date = new Date(isoString);
            return date.toLocaleString('zh-CN', {
                /*
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                */
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            }).replace(/\//g, '-');
        }

        // 渲染聊天记录
        function renderChatMessages() {
            chatBox.innerHTML = '';
            const messages = chatMode === 'lobby' ? lobbyMessages : privateMessages;
            messages.forEach(msg => {
                const timestamp = msg.timestamp ? formatTimestamp(msg.timestamp) : '未知时间';
                chatBox.innerHTML += `<div><span class="timestamp">${timestamp}</span> ${msg.username}: ${msg.message}</div>`;
            });
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // 切换聊天窗口显示/隐藏
        function toggleChatWindow() {
            chatWindow.classList.toggle('active');
            if (chatWindow.classList.contains('active')) {
                renderChatMessages();
                messageInput.focus();
            }
        }

        // 切换聊天模式
        function switchChatMode(mode) {
            
            chatMode = mode;
            lobbyChatButton.style.background = mode === 'lobby' ? 'var(--primary-color)' : 'transparent';
            lobbyChatButton.style.color = mode === 'lobby' ? 'var(--dark-color)' : 'var(--primary-color)';
            privateChatButton.style.background = mode === 'private' ? 'var(--primary-color)' : 'transparent';
            privateChatButton.style.color = mode === 'private' ? 'var(--dark-color)' : 'var(--primary-color)';
            messageInput.placeholder = mode === 'lobby' ? '输入大厅消息...' : `向 ${opponent || '对手'} 发送消息...`;
            renderChatMessages();
        }

        // 辅助函数 (无变化)
        function getEventPosition(e) {
            if (e.type.startsWith('touch')) {
                const touch = e.changedTouches ? e.changedTouches[0] : e.touches[0];
                return { x: touch.clientX, y: touch.clientY };
            }
            return { x: e.clientX, y: e.clientY };
        }

        // --- 拖拽功能 ---
        chatHeader.addEventListener('mousedown', startDrag);
        chatHeader.addEventListener('touchstart', startDrag, { passive: false });

        function startDrag(e) {
            if (e.target.closest('button, a, input')) {
                return;
            }
            if (e.type === 'mousedown' && e.target !== chatHeader && e.target !== chatHeader.querySelector('h2')) return;
            e.preventDefault();
            isDragging = true;
            const pos = getEventPosition(e);
            startX = pos.x - chatWindow.offsetLeft;
            startY = pos.y - chatWindow.offsetTop;
            document.addEventListener('mousemove', onDrag);
            document.addEventListener('touchmove', onDrag, { passive: false });
        }

        function onDrag(e) {
            if (!isDragging) return; // 增加判断
            e.preventDefault();
            const pos = getEventPosition(e);
            const newLeft = pos.x - startX;
            const newTop = pos.y - startY;
            const maxLeft = window.innerWidth - chatWindow.offsetWidth;
            const maxTop = window.innerHeight - chatWindow.offsetHeight;
            chatWindow.style.left = Math.max(0, Math.min(newLeft, maxLeft)) + 'px';
            chatWindow.style.top = Math.max(0, Math.min(newTop, maxTop)) + 'px';
        }

        function stopDrag() {
            isDragging = false;
            document.removeEventListener('mousemove', onDrag);
            document.removeEventListener('touchmove', onDrag);
        }

        // --- 缩放功能 ---
        resizeHandle.addEventListener('mousedown', startResize);
        resizeHandle.addEventListener('touchstart', startResize, { passive: false });

        function startResize(e) {
            e.preventDefault();
            isResizing = true;
            const pos = getEventPosition(e);
            startX = pos.x;
            startY = pos.y;
            startWidth = chatWindow.offsetWidth;
            startHeight = chatWindow.offsetHeight;
            document.addEventListener('mousemove', onResize);
            document.addEventListener('touchmove', onResize, { passive: false });
        }

        function onResize(e) {
            if (!isResizing) return; // 增加判断
            e.preventDefault();
            // [修复] 使用 getEventPosition 获取坐标
            const pos = getEventPosition(e);
            const newWidth = Math.max(200, startWidth + (pos.x - startX));
            const newHeight = Math.max(200, startHeight + (pos.y - startY));
            chatWindow.style.width = newWidth + 'px';
            chatWindow.style.height = newHeight + 'px';
        }

        function stopResize() {
            isResizing = false;
            document.removeEventListener('mousemove', onResize);
            document.removeEventListener('touchmove', onResize);
        }

        // --- 全局结束事件 ---
        // 统一处理所有结束操作，简化逻辑
        document.addEventListener('mouseup', stopAll);
        document.addEventListener('touchend', stopAll);
        document.addEventListener('touchcancel', stopAll);

        function stopAll() {
            if (isDragging) {
                stopDrag();
            }
            if (isResizing) {
                stopResize();
            }
        }


        //
        function aaaaa(){
            ws.send(JSON.stringify({type: 'feedback', card: 'nope'}));
        }
        function bbbbb(){
            if (data.USSR === username) ws.send(JSON.stringify({type: 'giveupselection', country: 'USSR'}));
            if (data.US === username) ws.send(JSON.stringify({type: 'giveupselection', country: 'US'}));
            if (data.currentcard === 'AskNotWhatYourCountryCanDoForYou' && data.US === username) ws.send(JSON.stringify({type: 'feedback', giveup: 'Yes'}));
        }
        //苏联越南起义东南亚
        function VietnamRevoltsbutton(){
            document.getElementById('messageforyou').innerText = '苏联将点数全部用于东南亚，+1行动值';
            ws.send(JSON.stringify({ type: 'savetemp', savetempspecial: 'VietnamRevoltsbutton', text: '苏联将点数全部用于东南亚，+1行动值，（注意：直接在国家进行操作，若再次点击三个行动将重置）'}));
            document.getElementById('VietnamRevoltsbutton').style.display = 'none';
        }
        //
        function Jump() {
            if (data.USSR === username && data.spacediscardUSSR !== 0 && data.stage === 'choosecards') {
                ws.send(JSON.stringify({ type: 'spacediscard', country: 'USSR', card: 'jump'}));
                document.getElementById('maingame').classList.remove('active');
            } else if (data.US === username && data.spacediscardUS !== 0 && data.stage === 'choosecards') {
                ws.send(JSON.stringify({ type: 'spacediscard', country: 'US', card: 'jump'}));
                document.getElementById('maingame').classList.remove('active');
            } else if (data.USSR === username && data.disselectUSSR !== 0 && data.stage === 'choosecards') {
                ws.send(JSON.stringify({ type: 'disselectcard', country: 'USSR', card: 'jump'}));
                document.getElementById('maingame').classList.remove('active');
            } else if (data.US === username && data.disselectUS !== 0 && data.stage === 'choosecards') {
                ws.send(JSON.stringify({ type: 'disselectcard', country: 'US', card: 'jump'}));
                document.getElementById('maingame').classList.remove('active');
            }

            if (data.US === username && data.currentturn === 'US' && (data.UScards.length === 0 || data.spaceextraturn === 0)) {
                ws.send(JSON.stringify({ type: 'jumpturn', country: 'US'}));
                document.getElementById('maingame').classList.remove('active');
            }
            if (data.USSR === username && data.currentturn === 'USSR' && (data.USSRcards.length === 0 || data.spaceextraturn === 0)) {
                ws.send(JSON.stringify({ type: 'jumpturn', country: 'USSR'}));
                document.getElementById('maingame').classList.remove('active');
            }
        }
        //
        function setplacing() {
            actiontype = 'placing';
            document.getElementById('messageforyou').innerText = `选择了放置影响力，选择国家，总共${data.point}点`;
            if(data.currentaction === 'USSR' && data.USSR === username) ws.send(JSON.stringify({ type: 'savetemp', superpower: 'USSR', text: `苏联选择了放置影响力，选择国家，总共${data.point}点`}));
            if(data.currentaction === 'US' && data.US === username) ws.send(JSON.stringify({ type: 'savetemp', superpower: 'US', text: `美国选择了放置影响力，选择国家，总共${data.point}点`}));
        }
        function setrealignment() {
            actiontype = 'realignment';
            document.getElementById('messageforyou').innerText = `选择了调整阵容，选择国家，总共调整${data.point}点`;
            if(data.currentaction === 'USSR' && data.USSR === username) ws.send(JSON.stringify({ type: 'savetemp', superpower: 'USSR', text: `苏联选择了调整阵容，选择国家，总共调整${data.point}点`}));
            if(data.currentaction === 'US' && data.US === username) ws.send(JSON.stringify({ type: 'savetemp', superpower: 'US', text: `美国选择了调整阵容，选择国家，总共调整${data.point}点`}));
        }
        function setcoup() {
            actiontype = 'coup';
            document.getElementById('messageforyou').innerText = `选择了政变，选择国家用${data.point}点发起政变`;
            if(data.currentaction === 'USSR' && data.USSR === username) ws.send(JSON.stringify({ type: 'savetemp', superpower: 'USSR', text: `苏联选择了政变，选择国家用${data.point}点发起政变`}));
            if(data.currentaction === 'US' && data.US === username) ws.send(JSON.stringify({ type: 'savetemp', superpower: 'US', text: `美国选择了政变，选择国家用${data.point}点发起政变`}));
        }
        function isfinish() {
            if(data.currentaction === 'USSR' && data.USSR === username) ws.send(JSON.stringify({ type: 'finish', superpower: 'USSR'}));
            if(data.currentaction === 'US' && data.US === username) ws.send(JSON.stringify({ type: 'finish', superpower: 'US'}));
            document.getElementById('action').style.display = 'none';
        }
        //点击国家
        function Onclick(buttonElement) {
            const country = buttonElement.id;
            if (data.stage === 'setup') {
                if (data.currentturn === 'USSR' && data.USSR === username && data.ussrinfluencepoint > 0 && data.countries[country].subRegions.includes('EasternEurope')) {
                    ws.send(JSON.stringify({ type: 'influencechange', country: country, superpower: 'USSR'}));
                }
                if (data.currentturn === 'US' && data.US === username && data.usinfluencepoint > 0 && data.countries[country].subRegions.includes('WesternEurope')) {
                    ws.send(JSON.stringify({ type: 'influencechange', country: country, superpower: 'US'}));
                }
            }
            if (data.stage === 'setupbid') {
                if (data.currentturn === 'USSR' && data.USSR === username && data.USSRbid > 0 && data.countries[country].ussrInfluence > 0 && data.countries[country].ussrInfluence - data.countries[country].usaInfluence < data.countries[country].stability + 2 ) {
                    ws.send(JSON.stringify({ type: 'influencechange', country: country, superpower: 'USSR'}));
                }
                if (data.currentturn === 'US' && data.US === username && data.USbid > 0 && data.countries[country].usaInfluence > 0 && data.countries[country].usaInfluence - data.countries[country].ussrInfluence < data.countries[country].stability + 2 ) {
                    ws.send(JSON.stringify({ type: 'influencechange', country: country, superpower: 'US'}));
                }
            }
            if (data.currentcard === '' && data.currentaction !== '') {
                if (actiontype === 'placing') {
                    if (data.currentaction === 'USSR' && data.USSR === username && data.point > 0) {
                        ws.send(JSON.stringify({ type: 'placing', country: country, superpower: 'USSR'}));
                    }
                    if (data.currentaction === 'US' && data.US === username && data.point > 0) {
                        ws.send(JSON.stringify({ type: 'placing', country: country, superpower: 'US'}));
                    }
                }
                if (actiontype === 'realignment') {
                    if (data.currentaction === 'USSR' && data.USSR === username && data.point > 0) {
                        ws.send(JSON.stringify({ type: 'realignment', country: country, superpower: 'USSR'}));
                    }
                    if (data.currentaction === 'US' && data.US === username && data.point > 0) {
                        ws.send(JSON.stringify({ type: 'realignment', country: country, superpower: 'US'}));
                    }
                }
                if (actiontype === 'coup') {
                    if (data.currentaction === 'USSR' && data.USSR === username && data.point > 0) {
                        ws.send(JSON.stringify({ type: 'coup', country: country, superpower: 'USSR'}));
                    }
                    if (data.currentaction === 'US' && data.US === username && data.point > 0) {
                        ws.send(JSON.stringify({ type: 'coup', country: country, superpower: 'US'}));
                    }
                }
            }

            if (data.currentcard === 'SocialistGovernments' && data.USSR === username) {
                if (data.eventpoint === 3) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && data.countries[country].subRegions.includes('WesternEurope')) {
                    ws.send(JSON.stringify({ type: 'SocialistGovernments', country: country}));
                }
            }
            if (data.currentcard === 'Comecon' && data.USSR === username) {
                if (data.eventpoint === 4) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && data.countries[country].usaInfluence - data.countries[country].ussrInfluence < data.countries[country].stability && data.countries[country].subRegions.includes('EasternEurope')) {
                    ws.send(JSON.stringify({ type: 'Comecon', country: country}));
                }
            }
            if (data.currentcard === 'WarsawPactFormed' && data.USSR === username) {
                if ((data.eventpoint === 5 && mode === 0) || (data.eventpoint === 4 && mode === 1)) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '切换为移除';
                    cancel.onclick = () => {

                        mode = 1;
                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard, mode: mode}));

                        document.getElementById('messageforyou').innerText = '';
                    }

                    const cancel2 = document.createElement('button');
                    cancel2.textContent = '切换为增加';
                    cancel2.onclick = () => {

                        mode = 0;
                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard, mode: mode}));

                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        mode = 0;
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(cancel2);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && data.countries[country].subRegions.includes('EasternEurope')) {
                    ws.send(JSON.stringify({ type: 'WarsawPactFormed', country: country, mode: mode}));
                }
            }
            if (data.currentcard === 'TrumanDoctrine' && data.US === username && data.countries[country].region === 'Europe' && data.countries[country].ussrInfluence > 0 && data.countries[country].ussrInfluence - data.countries[country].usaInfluence < data.countries[country].stability) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认移除该国的所有苏联影响力。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'IndependentReds' && data.US === username && data.countries[country].ussrInfluence > data.countries[country].usaInfluence && (country === 'Yugoslavia' || country === 'Romania' || country === 'Bulgaria' || country === 'Hungary' || country === 'Czechoslovakia')) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在该国增加美国影响力使之等于苏联影响力。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'MarshallPlan' && data.US === username) {
                if (data.eventpoint === 7) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0 && data.countries[country].ussrInfluence - data.countries[country].usaInfluence < data.countries[country].stability && data.countries[country].subRegions.includes('WesternEurope')) {
                    ws.send(JSON.stringify({ type: 'MarshallPlan', country: country}));
                }
            }
            if (data.currentcard === 'SuezCrisis' && data.USSR === username) {
                if (data.eventpoint === 4) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && (country === 'France' || country === 'UK' || country === 'Israel')) {
                    ws.send(JSON.stringify({ type: 'SuezCrisis', country: country}));
                }
            }
            if (data.currentcard === 'EastEuropeanUnrest' && data.US === username) {
                if (data.eventpoint === 3) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0 && data.countries[country].subRegions.includes('EasternEurope')) {
                    ws.send(JSON.stringify({ type: 'EastEuropeanUnrest', country: country}));
                }
            }
            if (data.currentcard === 'Decolonization' && data.USSR === username) {
                if (data.eventpoint === 4) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && (data.countries[country].subRegions.includes('SoutheastAsia') || data.countries[country].region === 'Africa')) {
                    ws.send(JSON.stringify({ type: 'Decolonization', country: country}));
                }
            }
            if (data.currentcard === 'DeStalinization' && data.USSR === username) {
                if (data.eventpoint === 4 && mode === 0) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '重置';
                    cancel.onclick = () => {

                        mode = 0;
                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard, mode: mode}));

                        document.getElementById('messageforyou').innerText = '';
                    }

                    const cancel2 = document.createElement('button');
                    cancel2.textContent = '进行分配';
                    cancel2.onclick = () => {

                        mode = 1;
                        
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        mode = 0;
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(cancel2);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username) {
                    ws.send(JSON.stringify({ type: 'DeStalinization', country: country, mode: mode}));
                }
            }
            if (data.currentcard === 'TheCambridgeFive' && data.USSR === username) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在此增加1点苏联影响力。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'SpecialRelationship' && data.US === username) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在此增加美国影响力。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'BrushWar' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR' && (!data.effectiveevents.includes('NATO') || data.countries[country].region !== 'Europe' || (data.countries[country].usaInfluence - data.countries[country].ussrInfluence < data.countries[country].stability)))) && data.countries[country].stability < 3) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在此发动局部战争。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: data.currentturn, card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: data.currentturn, card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'Junta' && (data.US === username && data.currentturn === 'US' || data.USSR === username && data.currentturn === 'USSR') && (data.countries[country].region === 'CentralAmerica' || data.countries[country].region === 'SouthAmerica')) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在增加2点影响力。点击放弃则跳过增加影响力。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: data.currentturn, card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: data.currentturn, card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'SouthAfricanUnrest' && data.USSR === username) {
                if (data.eventpoint === 3) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && (country === 'SouthAfrica' || data.countries[country].neighbors.includes('SouthAfrica'))) {
                    ws.send(JSON.stringify({ type: 'SouthAfricanUnrest', country: country}));
                }
            }
            if (data.currentcard === 'MuslimRevolution' && data.USSR === username) {
                if (data.eventpoint === 2) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && (country === 'Sudan' || country === 'Iran' || country === 'Iraq' || country === 'Egypt' || country === 'Libya' || country === 'SaudiArabia' || country === 'Syria' || country === 'Jordan')) {
                    ws.send(JSON.stringify({ type: 'MuslimRevolution', country: country}));
                }
            }
            if (data.currentcard === 'ColonialRearGuards' && data.US === username) {
                if (data.eventpoint === 4) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0 && (data.countries[country].subRegions.includes('SoutheastAsia') || data.countries[country].region === 'Africa')) {
                    ws.send(JSON.stringify({ type: 'ColonialRearGuards', country: country}));
                }
            }
            if (data.currentcard === 'PuppetGovernments' && data.US === username) {
                if (data.eventpoint === 3) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0) {
                    ws.send(JSON.stringify({ type: 'PuppetGovernments', country: country}));
                }
            }
            if (data.currentcard === 'OASFounded' && data.US === username) {
                if (data.eventpoint === 2) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0) {
                    ws.send(JSON.stringify({ type: 'OASFounded', country: country}));
                }
            }
            if (data.currentcard === 'TheVoiceofAmerica' && data.US === username) {
                if (data.eventpoint === 4) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0 && data.countries[country].region !== 'Europe') {
                    ws.send(JSON.stringify({ type: 'TheVoiceofAmerica', country: country}));
                }
            }
            if (data.currentcard === 'LiberationTheology' && data.USSR === username) {
                if (data.eventpoint === 3) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && data.countries[country].region === 'CentralAmerica') {
                    ws.send(JSON.stringify({ type: 'LiberationTheology', country: country}));
                }
            }
            if (data.currentcard === 'UssuriRiverSkirmish' && data.US === username) {
                if (data.eventpoint === 4) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'US', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'US', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.eventpoint > 0 && data.countries[country].region === 'Asia') {
                    ws.send(JSON.stringify({ type: 'UssuriRiverSkirmish', country: country}));
                }
            }
            if (data.currentcard === 'Che' && data.USSR === username && data.countries[country].usaInfluence > 0 && (data.countries[country].region === 'CentralAmerica' || data.countries[country].region === 'SouthAmerica' || data.countries[country].region === 'Africa') && !data.countries[country].battleground) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在此发动政变。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'TheReformer' && data.USSR === username) {
                if (data.eventpoint === 4 && data.VP >= 0 || data.eventpoint === 6 && data.VP < 0) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0) {
                    ws.send(JSON.stringify({ type: 'TheReformer', country: country}));
                }
            }
            if (data.currentcard === 'MarineBarracksBombing' && data.USSR === username) {
                if (data.eventpoint === 2) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0) {
                    ws.send(JSON.stringify({ type: 'MarineBarracksBombing', country: country}));
                }
            }
            if (data.currentcard === 'OrtegaElectedinNicaragua' && data.USSR === username && data.countries[country].usaInfluence > 0 && (data.countries[country].neighbors.includes('Nicaragua') && (country !== 'Cuba' || country === 'Cuba' && data.DEFCON > 2))) {
                document.getElementById('messageforyou').innerText = `已选择${country},点击确认在此发动政变。点击放弃则跳过此事件。`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard, country: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard, country: country}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'LatinAmericanDebtCrisis1' && data.USSR === username) {
                if (data.eventpoint === 2) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0) {
                    ws.send(JSON.stringify({ type: 'LatinAmericanDebtCrisis1', country: country}));
                }
            }
            if (data.currentcard === 'PershingIIDeployed' && data.USSR === username) {
                if (data.eventpoint === 3) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        ws.send(JSON.stringify({type: 'savetemp', text:'', superpower: 'USSR', card: data.currentcard}));

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', card: data.currentcard}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.eventpoint > 0 && data.countries[country].subRegions.includes('WesternEurope')) {
                    ws.send(JSON.stringify({ type: 'PershingIIDeployed', country: country}));
                }
            }

            if (data.isNORAD > 0 && data.US === username && data.countries[country].usaInfluence > 0) {
                ws.send(JSON.stringify({ type: 'NORAD', country: country}));

            } else if ((data.isCubanMissileCrisisUSSR === 1 || data.isCubanMissileCrisisUS === 1) && ((data.US === username && data.currentturn === 'US' && (country === 'WestGermany' || country === 'Turkey') && data.countries[country].usaInfluence > 1) || (data.USSR === username && data.currentturn === 'USSR' && country === 'Cuba' && data.countries[country].ussrInfluence > 1))) {
                const a = document.getElementById('isCubanMissileCrisis');
                a.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {

                    document.getElementById('isCubanMissileCrisis').innerHTML = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = `从${country}移除2点影响力以取消古巴导弹危机`;
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'isCubanMissileCrisis', superpower: data.currentturn, country: country}));
                    //
                    document.getElementById('isCubanMissileCrisis').innerHTML = '';
                }

                a.appendChild(cancel);
                a.appendChild(confirm);
            }
        }
        
        //注册
        function register() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            if (username && password) {
                ws.send(JSON.stringify({ type: 'register', username, password }));
            } else {
                document.getElementById('loginStatus').innerText = '输入你的用户名和密码';
            }
        }

        //登录
        function login() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            if (username && password) {
                ws.send(JSON.stringify({ type: 'login', username, password }));
            } else {
                document.getElementById('loginStatus').innerText = '输入你的用户名和密码';
            }
        }

        //登出
        function logout() {
            ws.send(JSON.stringify({ type: 'logout'}));
        }

        //退出游戏
        function quit() {
            if (data.stage !== 'END') {
                ws.send(JSON.stringify({ type: 'quit', opponent: opponent}));
                opponent = null;
            } else {
                ws.send(JSON.stringify({ type: 'historical_record', opponent: opponent}));
                opponent = null;
            }
        }

        //
        //界面切换
        function showContainer(containerId) {
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            const container = document.getElementById(containerId);
            if (container) {
                container.classList.add('active');
                // 判断是否进入游戏界面，调整 body 样式
                if (containerId === 'gameContainer') {
                    const fullStyle = document.getElementById('fullStyle');
                    if (fullStyle) fullStyle.disabled = true;
                    // 启用游戏样式（防止被意外禁用）
                    const gameStyle = document.getElementById('gameStyle');
                    if (gameStyle) gameStyle.disabled = false;
                } else {
                    const fullStyle = document.getElementById('fullStyle');
                    if (fullStyle) fullStyle.disabled = false;

                    const gameStyle = document.getElementById('gameStyle');
                    if (gameStyle) gameStyle.disabled = false;
                }

            } else {
                console.error(`Container ${containerId} not found`);
                document.getElementById('menuContainer').classList.add('active');
                document.body.classList.remove('minimal-ui');
            }
        }

        //游戏页面切换
        function showGame(gameId) {
            document.querySelectorAll('.game').forEach(c => c.classList.remove('active'));
            const game = document.getElementById(gameId);
            if (game) {
                game.classList.add('active');
            } else {
                console.error(`Game ${gameId} not found`);
                document.getElementById('menuContainer').classList.add('active');
            }
        }

        //更新房间列表
        function updateRoomList(rooms) {
            const container = document.getElementById('roomContainer');
            container.innerHTML = '';
            rooms.forEach(roomName => {//对每一个房间分别创建按钮
                const btn = document.createElement('button');
                btn.textContent = roomName;//btn.className = 'room-btn';可以改class名，然后在style处.room-btn {}
                btn.onclick = () => {
                    ws.send(JSON.stringify({type: 'join_room', roomName: roomName}));//按下后会发送加入房间的信息
                }
                container.appendChild(btn);//在container里增加按钮
            });
        }

        //更新继续游戏列表
        function updateGameList(games) {
            const container = document.getElementById('continueGame');
            container.innerHTML = '';
            games.forEach(gameName => {
                const btn = document.createElement('button');
                btn.textContent = gameName;
                btn.onclick = () => {
                    ws.send(JSON.stringify({type: 'continue_game', gameName: gameName}));
                }
                container.appendChild(btn);
            });
        }

        //更新历史记录
        function updateHistoricalList(games) {
            const container = document.getElementById('HistoricalGameContainer');
            container.innerHTML = '';
            games.forEach(gameName => {
                const btn = document.createElement('button');
                btn.textContent = gameName;
                btn.onclick = () => {
                    ws.send(JSON.stringify({type: 'historical_game', gameName: gameName}));
                }
                container.appendChild(btn);
            });
        }

        //非计分卡牌事件
        function CardardToDo(cardname) {
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && data.currentevent === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            //卡牌行动
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && data.currentevent === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `使用${cardname}优先触发行动/事件/太空竞赛`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const action = document.createElement('button');
                action.textContent = '行动';
                action.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'action', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'action', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const event = document.createElement('button');
                event.textContent = '事件';
                event.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const space = document.createElement('button');
                space.textContent = '太空竞赛';
                space.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'space', superpower: 'USSR', card: cardname, move: 1}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'space', superpower: 'US', card: cardname, move: 1}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const space2 = document.createElement('button');
                space2.textContent = '不推进的太空竞赛';
                space2.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'space', superpower: 'USSR', card: cardname, move: 0}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'space', superpower: 'US', card: cardname, move: 0}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(action);
                sure.appendChild(event);
                sure.appendChild(space);
                sure.appendChild(space2);
            }
            //泥潭
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && data.currentevent === '' && data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire > 0) {
                document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'Quagmire', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            //捕熊陷阱
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && data.currentevent === '' && data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap > 0) {
                document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'BearTrap', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            //向苏联出售谷物，与卡牌行动相同
            if (data.currentcard === 'GrainSalestoSoviets' && data.US === username && data.currentturn === 'US' && data.USSRcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `使用${cardname}优先触发行动/事件/太空竞赛`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const action = document.createElement('button');
                action.textContent = '行动';
                action.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'action', superpower: 'US', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const event = document.createElement('button');
                event.textContent = '事件';
                event.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const space = document.createElement('button');
                space.textContent = '太空竞赛';
                space.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'space', superpower: 'US', card: cardname, move: 1}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const space2 = document.createElement('button');
                space2.textContent = '不推进的太空竞赛';
                space2.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'space', superpower: 'US', card: cardname, move: 0}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(action);
                sure.appendChild(event);
                sure.appendChild(space);
                sure.appendChild(space2);
            }
        }
        // 卡牌点击处理函数
        function AsiaScoring() {
            const cardname = 'AsiaScoring';
            Selectcards(cardname);

            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
        }
        function EuropeScoring() {
            const cardname = 'EuropeScoring';
            Selectcards(cardname);
            
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }

        }
        function MiddleEastScoring() {
            const cardname = 'MiddleEastScoring';
            Selectcards(cardname);
            
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }

        }
        function DuckandCover() {
            const cardname = 'DuckandCover';
            Selectcards(cardname);
            CardardToDo(cardname);

        }
        function FiveYearPlan() {
            const cardname = 'FiveYearPlan';
            Selectcards(cardname);
            CardardToDo(cardname);

        }
        function TheChinaCard() {
            const cardname = 'TheChinaCard';
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRChinacard.includes(cardname)|| data.currentturn === 'US' && data.US === username && data.USChinacard.includes(cardname))) {
                document.getElementById('messageforyou').innerText = `将打出${cardname}，选择是否将所有点数都用于亚洲`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const nope = document.createElement('button');
                nope.textContent = '用于各地';
                nope.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'Chinacard', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'Chinacard', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '均用于亚洲';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'Chinacard', superpower: 'USSR', card: cardname, tag: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'Chinacard', superpower: 'US', card: cardname, tag: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(nope);
                sure.appendChild(confirm);
            }
        }
        function SocialistGovernments() {
            const cardname = 'SocialistGovernments';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Fidel() {
            const cardname = 'Fidel';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function VietnamRevolts() {
            const cardname = 'VietnamRevolts';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Blockade() {
            const cardname = 'Blockade';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function KoreanWar() {
            const cardname = 'KoreanWar';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function RomanianAbdication() {
            const cardname = 'RomanianAbdication';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function ArabIsraeliWar() {
            const cardname = 'ArabIsraeliWar';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Comecon() {
            const cardname = 'Comecon';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Nasser() {
            const cardname = 'Nasser';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function WarsawPactFormed() {
            const cardname = 'WarsawPactFormed';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function DeGaulleLeadsFrance() {
            const cardname = 'DeGaulleLeadsFrance';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function CapturedNaziScientist() {
            const cardname = 'CapturedNaziScientist';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function TrumanDoctrine() {
            const cardname = 'TrumanDoctrine';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function OlympicGames() {
            const cardname = 'OlympicGames';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function NATO() {
            const cardname = 'NATO';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function IndependentReds() {
            const cardname = 'IndependentReds';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function MarshallPlan() {
            const cardname = 'MarshallPlan';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function IndoPakistaniWar() {
            const cardname = 'IndoPakistaniWar';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Containment() {
            const cardname = 'Containment';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function CIACreated() {
            const cardname = 'CIACreated';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function USJapanMutualDefensePact() {
            const cardname = 'USJapanMutualDefensePact';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SuezCrisis() {
            const cardname = 'SuezCrisis';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function EastEuropeanUnrest() {
            const cardname = 'EastEuropeanUnrest';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Decolonization() {
            const cardname = 'Decolonization';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function RedScarePurge() {
            const cardname = 'RedScarePurge';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function UNIntervention() {
            const cardname = 'UNIntervention';
            Selectcards(cardname);
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && data.currentaction === '' && data.currentevent === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `使用${cardname}优先触发行动/事件/太空竞赛`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const action = document.createElement('button');
                action.textContent = '行动';
                action.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'action', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'action', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const event = document.createElement('button');
                event.textContent = '事件';
                event.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }
                const space = document.createElement('button');
                space.textContent = '太空竞赛';
                space.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'space', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'space', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(action);
                sure.appendChild(event);
                sure.appendChild(space);
            }
        }
        function DeStalinization() {
            const cardname = 'DeStalinization';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function NuclearTestBan() {
            const cardname = 'NuclearTestBan';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function FormosanResolution() {
            const cardname = 'FormosanResolution';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Defectors() {
            const cardname = 'Defectors';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function TheCambridgeFive() {
            const cardname = 'TheCambridgeFive';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SpecialRelationship() {
            const cardname = 'SpecialRelationship';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function NORAD() {
            const cardname = 'NORAD';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function BrushWar() {
            const cardname = 'BrushWar';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function CentralAmericaScoring() {
            const cardname = 'CentralAmericaScoring';
            Selectcards(cardname);
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
        }
        function SoutheastAsiaScoring() {
            const cardname = 'SoutheastAsiaScoring';
            Selectcards(cardname);
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
        }
        function ArmsRace() {
            const cardname = 'ArmsRace';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function CubanMissileCrisis() {
            const cardname = 'CubanMissileCrisis';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function NuclearSubs() {
            const cardname = 'NuclearSubs';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Quagmire() {
            const cardname = 'Quagmire';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SALTNegotiations() {
            const cardname = 'SALTNegotiations';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function BearTrap() {
            const cardname = 'BearTrap';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Summit() {
            const cardname = 'Summit';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function HowILearnedtoStopWorrying() {
            const cardname = 'HowILearnedtoStopWorrying';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Junta() {
            const cardname = 'Junta';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function KitchenDebates() {
            const cardname = 'KitchenDebates';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function MissileEnvy() {
            const cardname = 'MissileEnvy';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function WeWillBuryYou() {
            const cardname = 'WeWillBuryYou';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function BrezhnevDoctrine() {
            const cardname = 'BrezhnevDoctrine';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function PortugueseEmpireCrumbles() {
            const cardname = 'PortugueseEmpireCrumbles';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SouthAfricanUnrest() {
            const cardname = 'SouthAfricanUnrest';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Allende() {
            const cardname = 'Allende';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function WillyBrandt() {
            const cardname = 'WillyBrandt';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function MuslimRevolution() {
            const cardname = 'MuslimRevolution';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function ABMTreaty() {
            const cardname = 'ABMTreaty';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function CulturalRevolution() {
            const cardname = 'CulturalRevolution';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function FlowerPower() {
            const cardname = 'FlowerPower';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function U2Incident() {
            const cardname = 'U2Incident';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function OPEC() {
            const cardname = 'OPEC';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function LoneGunman() {
            const cardname = 'LoneGunman';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function ColonialRearGuards() {
            const cardname = 'ColonialRearGuards';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function PanamaCanalReturned() {
            const cardname = 'PanamaCanalReturned';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function CampDavidAccords() {
            const cardname = 'CampDavidAccords';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function PuppetGovernments() {
            const cardname = 'PuppetGovernments';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function GrainSalestoSoviets() {
            const cardname = 'GrainSalestoSoviets';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function JohnPaulIIElectedPope() {
            const cardname = 'JohnPaulIIElectedPope';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function LatinAmericanDeathSquads() {
            const cardname = 'LatinAmericanDeathSquads';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function OASFounded() {
            const cardname = 'OASFounded';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function NixonPlaystheChinaCard() {
            const cardname = 'NixonPlaystheChinaCard';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SadatExpelsSoviets() {
            const cardname = 'SadatExpelsSoviets';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function ShuttleDiplomacy() {
            const cardname = 'ShuttleDiplomacy';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function TheVoiceofAmerica() {
            const cardname = 'TheVoiceofAmerica';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function LiberationTheology() {
            const cardname = 'LiberationTheology';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function UssuriRiverSkirmish() {
            const cardname = 'UssuriRiverSkirmish';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function AskNotWhatYourCountryCanDoForYou() {
            const cardname = 'AskNotWhatYourCountryCanDoForYou';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function AllianceforProgress() {
            const cardname = 'AllianceforProgress';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function AfricaScoring() {
            const cardname = 'AfricaScoring';
            Selectcards(cardname);
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
        }
        function OneSmallStep() {
            const cardname = 'OneSmallStep';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SouthAmericaScoring() {
            const cardname = 'SouthAmericaScoring';
            Selectcards(cardname);
            if (data.stage === 'headline' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}作为头条牌？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'setheadline', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && (data.currentturn === 'USSR' && data.USSR === username && data.USSRcards.includes(cardname) && data.isBearTrap === 0  && (data.isMissileEnvyUSSR === 0 || !data.USSRcards.includes('MissileEnvy')) || data.currentturn === 'US' && data.US === username && data.UScards.includes(cardname) && data.isQuagmire === 0  && (data.isMissileEnvyUS === 0 || !data.UScards.includes('MissileEnvy')))) {
                document.getElementById('messageforyou').innerText = `是否打出${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    if (data.currentturn === 'USSR' && data.USSR === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'USSR', card: cardname}));
                    }
                    if (data.currentturn === 'US' && data.US === username) {
                        ws.send(JSON.stringify({type: 'event', superpower: 'US', card: cardname}));
                    }
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
        }
        function Che() {
            const cardname = 'Che';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function OurManinTehran() {
            const cardname = 'OurManinTehran';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function IranianHostageCrisis() {
            const cardname = 'IranianHostageCrisis';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function TheIronLady() {
            const cardname = 'TheIronLady';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function ReaganBombsLibya() {
            const cardname = 'ReaganBombsLibya';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function StarWars() {
            const cardname = 'StarWars';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function NorthSeaOil() {
            const cardname = 'NorthSeaOil';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function TheReformer() {
            const cardname = 'TheReformer';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function MarineBarracksBombing() {
            const cardname = 'MarineBarracksBombing';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function SovietsShootDownKAL007() {
            const cardname = 'SovietsShootDownKAL007';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Glasnost() {
            const cardname = 'Glasnost';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function OrtegaElectedinNicaragua() {
            const cardname = 'OrtegaElectedinNicaragua';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Terrorism() {
            const cardname = 'Terrorism';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function IranContraScandal() {
            const cardname = 'IranContraScandal';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Chernobyl() {
            const cardname = 'Chernobyl';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function LatinAmericanDebtCrisis() {
            const cardname = 'LatinAmericanDebtCrisis';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function TearDownthisWall() {
            const cardname = 'TearDownthisWall';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function AnEvilEmpire() {
            const cardname = 'AnEvilEmpire';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function AldrichAmesRemix() {
            const cardname = 'AldrichAmesRemix';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function PershingIIDeployed() {
            const cardname = 'PershingIIDeployed';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Wargames() {
            const cardname = 'Wargames';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function Solidarity() {
            const cardname = 'Solidarity';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function IranIraqWar() {
            const cardname = 'IranIraqWar';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function YuriandSamantha() {
            const cardname = 'YuriandSamantha';
            Selectcards(cardname);
            CardardToDo(cardname);
        }
        function AWACSSaletoSaudis() {
            const cardname = 'AWACSSaletoSaudis';
            Selectcards(cardname);
            CardardToDo(cardname);
        }

        //选择卡
        function Selectcards(cardname) {
            //五年计划
            if (data.currentcard === 'FiveYearPlan' && data.USSR === username && data.USSRcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'Blockade' && data.US === username && data.UScards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'UNIntervention' && ((data.USSR === username && data.currentturn === 'USSR' && data.USSRcards.includes(cardname)) || (data.US === username && data.currentturn === 'US' && data.UScards.includes(cardname)))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'Defectors' && data.USSR === username && data.USSRcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'Quagmire' && data.US === username && data.UScards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'SALTNegotiations' && ((data.USSR === username && data.currentturn === 'USSR') || (data.US === username && data.currentturn === 'US'))) {
                if (data.currentturn === 'USSR' && (data.USSRselection.includes(cardname) || data.USSRdiscard.includes(cardname) || data.USdiscard.includes(cardname) || data.finaldiscard.includes(cardname))) {
                    document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentturn === 'US' && (data.USselection.includes(cardname) || data.USSRdiscard.includes(cardname) || data.USdiscard.includes(cardname) || data.finaldiscard.includes(cardname))) {
                    document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
            }
            if (data.currentcard === 'BearTrap' && data.USSR === username && data.USSRcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'MissileEnvy' && ((data.USSR === username && data.currentturn === 'US') || (data.US === username && data.currentturn === 'USSR'))) {
                document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'AskNotWhatYourCountryCanDoForYou' && data.US === username) {
                if (data.mode === 0) {
                    ws.send(JSON.stringify({ type: 'feedback', card: cardname}));
                    document.getElementById('messageforyou').innerText = `弃置完成后点击完成，已弃置${data.isAskNotWhatYourCountryCanDoForYou + 1}张`;
                }
                if (data.mode === 1) {
                    ws.send(JSON.stringify({ type: 'feedback', card: cardname}));
                    document.getElementById('messageforyou').innerText = `从选牌堆或可选堆中选择手牌（若选牌堆与苏联弃牌堆无牌，则从终弃牌堆中选择），选择完成后点击完成，剩余可选${data.isAskNotWhatYourCountryCanDoForYou}张`;
                }
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const confirm = document.createElement('button');
                confirm.textContent = '完成';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({type: 'feedback', card: 'changemode'}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(confirm);
            }
            if (data.currentcard === 'OurManinTehran' && data.US === username && (data.selectablecards.includes(cardname) || data.UStempcards.includes(cardname))) {
                document.getElementById('messageforyou').innerText = `点击确认弃置${cardname}，完成后点击完成`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'feedback', country: 'US', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'StarWars' && data.US === username && (data.USSRdiscard.includes(data.card) || data.USdiscard.includes(data.card) || data.finaldiscard.includes(data.card) || data.USselection.includes(data.card))) {
                document.getElementById('messageforyou').innerText = `是否触发${cardname}`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'feedback', country: 'US', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'Terrorism' && (data.US === username && data.currentturn === 'USSR' && data.UScards.includes(cardname) || data.USSR === username && data.currentturn === 'US' && data.USSRcards.includes(cardname))) {
                document.getElementById('messageforyou').innerText = `是否弃置${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'LatinAmericanDebtCrisis' && data.US === username && data.UScards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否弃置${cardname}？(点击放弃则放弃弃置：苏联将可选择翻倍在南美洲的2个国家的苏联影响力)`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({ type: 'feedback', card: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === 'AldrichAmesRemix' && data.USSR === username && data.UScards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否弃置${cardname}？(点击放弃则放弃弃置)`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '放弃';
                cancel.onclick = () => {

                    ws.send(JSON.stringify({ type: 'feedback', card: 'giveup'}));

                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'feedback', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            

            if (data.currentcard === '' && data.spacediscardUS === 0 && data.spacediscardUSSR === 0 && data.stage === 'choosecards') {
                if (data.US === username && data.currentturn === 'US' && data.disselectUS === 0 && (data.selectablecards.includes(cardname) || data.choosemode === 0 && data.USselection.includes(cardname) || data.selectablecards.length === 0 && data.finaldiscard.includes(cardname))) {
                    document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'selectcard', country: 'US', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.currentturn === 'USSR' && data.disselectUSSR === 0 && (data.selectablecards.includes(cardname) || data.choosemode === 0 && data.USSRselection.includes(cardname) || data.selectablecards.length === 0 && data.finaldiscard.includes(cardname))) {
                    document.getElementById('messageforyou').innerText = `是否选择${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {

                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'selectcard', country: 'USSR', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.US === username && data.currentturn === 'US' && data.UScards.length < data.maxcards && data.disselectUS !== 0) {
                    document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'disselectcard', country: 'US', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.USSR === username && data.currentturn === 'USSR' && data.USSRcards.length < data.maxcards && data.disselectUSSR !== 0) {
                    document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'disselectcard', country: 'USSR', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
            }
            if (data.currentcard === '' && data.US === username && data.disselectUS !== 0 && data.UStempcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'disselectcard', country: 'US', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            if (data.currentcard === '' && data.USSR === username && data.disselectUSSR !== 0 && data.USSRtempcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                const sure = document.getElementById('sure');
                sure.innerHTML = '';

                const cancel = document.createElement('button');
                cancel.textContent = '取消';
                cancel.onclick = () => {
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                const confirm = document.createElement('button');
                confirm.textContent = '确认';
                confirm.onclick = () => {
                    //操作
                    ws.send(JSON.stringify({ type: 'disselectcard', country: 'USSR', card: cardname}));
                    //
                    document.getElementById('sure').innerHTML = '';
                    document.getElementById('messageforyou').innerText = '';
                }

                sure.appendChild(cancel);
                sure.appendChild(confirm);
            }
            
            if (data.currentcard === '' && data.US === username && data.spacediscardUS !== 0 && data.stage === 'choosecards' && data.UScards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'spacediscard', country: 'US', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
            }
            if (data.currentcard === '' && data.USSR === username && data.spacediscardUSSR !== 0 && data.stage === 'choosecards' && data.USSRcards.includes(cardname)) {
                document.getElementById('messageforyou').innerText = `是否选择弃置${cardname}？`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '取消';
                    cancel.onclick = () => {
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '确认';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'spacediscard', country: 'USSR', card: cardname}));
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
            }
        }

        // 卡牌功能映射
        const cardActions = {
            'AsiaScoring': AsiaScoring,
            'EuropeScoring': EuropeScoring,
            'MiddleEastScoring': MiddleEastScoring,
            'DuckandCover': DuckandCover,
            'FiveYearPlan': FiveYearPlan,
            'TheChinaCard': TheChinaCard,
            'SocialistGovernments': SocialistGovernments,
            'Fidel': Fidel,
            'VietnamRevolts': VietnamRevolts,
            'Blockade': Blockade,
            'KoreanWar': KoreanWar,
            'RomanianAbdication': RomanianAbdication,
            'ArabIsraeliWar': ArabIsraeliWar,
            'Comecon': Comecon,
            'Nasser': Nasser,
            'WarsawPactFormed': WarsawPactFormed,
            'DeGaulleLeadsFrance': DeGaulleLeadsFrance,
            'CapturedNaziScientist': CapturedNaziScientist,
            'TrumanDoctrine': TrumanDoctrine,
            'OlympicGames': OlympicGames,
            'NATO': NATO,
            'IndependentReds': IndependentReds,
            'MarshallPlan': MarshallPlan,
            'IndoPakistaniWar': IndoPakistaniWar,
            'Containment': Containment,
            'CIACreated': CIACreated,
            'USJapanMutualDefensePact': USJapanMutualDefensePact,
            'SuezCrisis': SuezCrisis,
            'EastEuropeanUnrest': EastEuropeanUnrest,
            'Decolonization': Decolonization,
            'RedScarePurge': RedScarePurge,
            'UNIntervention': UNIntervention,
            'DeStalinization': DeStalinization,
            'NuclearTestBan': NuclearTestBan,
            'FormosanResolution': FormosanResolution,
            'Defectors': Defectors,
            'TheCambridgeFive': TheCambridgeFive,
            'SpecialRelationship': SpecialRelationship,
            'NORAD': NORAD,
            'BrushWar': BrushWar,
            'CentralAmericaScoring': CentralAmericaScoring,
            'SoutheastAsiaScoring': SoutheastAsiaScoring,
            'ArmsRace': ArmsRace,
            'CubanMissileCrisis': CubanMissileCrisis,
            'NuclearSubs': NuclearSubs,
            'Quagmire': Quagmire,
            'SALTNegotiations': SALTNegotiations,
            'BearTrap': BearTrap,
            'Summit': Summit,
            'HowILearnedtoStopWorrying': HowILearnedtoStopWorrying,
            'Junta': Junta,
            'KitchenDebates': KitchenDebates,
            'MissileEnvy': MissileEnvy,
            'WeWillBuryYou': WeWillBuryYou,
            'BrezhnevDoctrine': BrezhnevDoctrine,
            'PortugueseEmpireCrumbles': PortugueseEmpireCrumbles,
            'SouthAfricanUnrest': SouthAfricanUnrest,
            'Allende': Allende,
            'WillyBrandt': WillyBrandt,
            'MuslimRevolution': MuslimRevolution,
            'ABMTreaty': ABMTreaty,
            'CulturalRevolution': CulturalRevolution,
            'FlowerPower': FlowerPower,
            'U2Incident': U2Incident,
            'OPEC': OPEC,
            'LoneGunman': LoneGunman,
            'ColonialRearGuards': ColonialRearGuards,
            'PanamaCanalReturned': PanamaCanalReturned,
            'CampDavidAccords': CampDavidAccords,
            'PuppetGovernments': PuppetGovernments,
            'GrainSalestoSoviets': GrainSalestoSoviets,
            'JohnPaulIIElectedPope': JohnPaulIIElectedPope,
            'LatinAmericanDeathSquads': LatinAmericanDeathSquads,
            'OASFounded': OASFounded,
            'NixonPlaystheChinaCard': NixonPlaystheChinaCard,
            'SadatExpelsSoviets': SadatExpelsSoviets,
            'ShuttleDiplomacy': ShuttleDiplomacy,
            'TheVoiceofAmerica': TheVoiceofAmerica,
            'LiberationTheology': LiberationTheology,
            'UssuriRiverSkirmish': UssuriRiverSkirmish,
            'AskNotWhatYourCountryCanDoForYou': AskNotWhatYourCountryCanDoForYou,
            'AllianceforProgress': AllianceforProgress,
            'AfricaScoring': AfricaScoring,
            'OneSmallStep': OneSmallStep,
            'SouthAmericaScoring': SouthAmericaScoring,
            'Che': Che,
            'OurManinTehran': OurManinTehran,
            'IranianHostageCrisis': IranianHostageCrisis,
            'TheIronLady': TheIronLady,
            'ReaganBombsLibya': ReaganBombsLibya,
            'StarWars': StarWars,
            'NorthSeaOil': NorthSeaOil,
            'TheReformer': TheReformer,
            'MarineBarracksBombing': MarineBarracksBombing,
            'SovietsShootDownKAL007': SovietsShootDownKAL007,
            'Glasnost': Glasnost,
            'OrtegaElectedinNicaragua': OrtegaElectedinNicaragua,
            'Terrorism': Terrorism,
            'IranContraScandal': IranContraScandal,
            'Chernobyl': Chernobyl,
            'LatinAmericanDebtCrisis': LatinAmericanDebtCrisis,
            'TearDownthisWall': TearDownthisWall,
            'AnEvilEmpire': AnEvilEmpire,
            'AldrichAmesRemix': AldrichAmesRemix,
            'PershingIIDeployed': PershingIIDeployed,
            'Wargames': Wargames,
            'Solidarity': Solidarity,
            'IranIraqWar': IranIraqWar,
            'YuriandSamantha': YuriandSamantha,
            'AWACSSaletoSaudis': AWACSSaletoSaudis
        };

        // 卡牌描述和配置
        const cardDetails = {
            'AsiaScoring': {
                faction: 'Neutral',
                point: '',
                period: 'EARLY',
                title: '亚洲计分',
                description: '存在: 3\n支配: 7\n控制: 9\n每控制一个战场国+1分\n每控制一个相邻对方超级大国的国家+1分\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'EuropeScoring': {
                faction: 'Neutral',
                point: '',
                period: 'EARLY',
                title: '欧洲计分',
                description: '存在: 3\n支配: 7\n控制: 40\n每控制一个战场国+1分\n每控制一个相邻对方超级大国的国家+1分\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'MiddleEastScoring': {
                faction: 'Neutral',
                point: '',
                period: 'EARLY',
                title: '中东计分',
                description: '存在: 3\n支配: 5\n控制: 7\n每控制一个战场国+1分\n每控制一个相邻对方超级大国的国家+1分\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'DuckandCover': {
                faction: 'US',
                point: '3',
                period: 'EARLY',
                title: '卧倒并掩护',
                description: '核危机降低一级\n美国获得5减去当前核危机等级的VP\n（当核危机等级为2时，此事件失效且当前行动轮的玩家失去20VP）'
            },
            'FiveYearPlan': {
                faction: 'US',
                point: '3',
                period: 'EARLY',
                title: '五年计划',
                description: '苏联玩家任意选择自己的一张手牌，如果为美国事件则立即发生、如果为非美国事件则不发生后弃置'
            },
            'TheChinaCard': {
                faction: 'Neutral',
                point: '4',
                period: 'EARLY',
                title: '中国牌',
                description: '（游戏开始时由苏联持有）\n如果所有的点数均用在亚洲则+1行动值\n使用后移交给对手\n第十回合结束时持有者+1VP\n如果美国打出此牌，\'台湾决议案\'失效'
            },
            'SocialistGovernments': {
                faction: 'USSR',
                point: '3',
                period: 'EARLY',
                title: '社会主义政府',
                description: '移除美国在西欧的3点影响力，每个国家最多移除2点'
            },
            'Fidel': {
                faction: 'USSR',
                point: '2',
                period: 'EARLY',
                title: '菲德尔*',
                description: '移除美国在古巴的所有影响力\n在古巴增加足以控制古巴的苏联影响力'
            },
            'VietnamRevolts': {
                faction: 'USSR',
                point: '2',
                period: 'EARLY',
                title: '越南起义.*',
                description: '在越南增加2点苏联影响力\n在本回合的余下时间，当苏联将一张牌的点数全部用于东南亚时+1行动值'
            },
            'Blockade': {
                faction: 'USSR',
                point: '1',
                period: 'EARLY',
                title: '封锁*',
                description: '如果美国玩家不立即弃置一张点数大于等于3的牌，则移除美国在西德的所有影响力'
            },
            'KoreanWar': {
                faction: 'USSR',
                point: '2',
                period: 'EARLY',
                title: '朝鲜战争*',
                description: '苏联增加2点军事行动\n若美国没有控制南韩的任何邻国，苏联+2VP并将所有在南韩的美国影响力换成苏联影响力'
            },
            'RomanianAbdication': {
                faction: 'USSR',
                point: '1',
                period: 'EARLY',
                title: '罗马尼亚颠覆*',
                description: '移除美国在罗马尼亚的所有影响力\n在罗马尼亚增加足够控制罗马尼亚的苏联影响力'
            },
            'ArabIsraeliWar': {
                faction: 'USSR',
                point: '2',
                period: 'EARLY',
                title: '阿拉伯-以色列战争',
                description: '苏联增加2点军事行动\n若美国没有控制以色列或者以色列的任何邻国，苏联+2VP并将所有在以色列的美国影响力换成苏联影响力'
            },
            'Comecon': {
                faction: 'USSR',
                point: '3',
                period: 'EARLY',
                title: '经济互助委员会*',
                description: '在4个非美国控制的东欧国家各增加1点苏联影响力'
            },
            'Nasser': {
                faction: 'USSR',
                point: '1',
                period: 'EARLY',
                title: '纳赛尔*',
                description: '在埃及增加2点苏联影响力\n移除美国在埃及的一半影响力（向上取整）'
            },
            'WarsawPactFormed': {
                faction: 'USSR',
                point: '3',
                period: 'EARLY',
                title: '华沙条约组织成立.*',
                description: '移除美国在4个东欧国家的所有影响力，或者在东欧增加5点苏联影响力，每个国家不超过2点\n允许\'北大西洋公约组织\'发生'
            },
            'DeGaulleLeadsFrance': {
                faction: 'USSR',
                point: '3',
                period: 'EARLY',
                title: '戴高乐领导法国.*',
                description: '从法国移除2点美国影响力，增加1点苏联影响力\n\'北大西洋公约组织\'对法国失效'
            },
            'CapturedNaziScientist': {
                faction: 'Neutral',
                point: '1',
                period: 'EARLY',
                title: '逮捕纳粹科学家*',
                description: '玩家在太空竞赛前进1步'
            },
            'TrumanDoctrine': {
                faction: 'US',
                point: '1',
                period: 'EARLY',
                title: '杜鲁门主义*',
                description: '移除欧洲一个未受苏联控制的国家的所有苏联影响力'
            },
            'OlympicGames': {
                faction: 'Neutral',
                point: '2',
                period: 'EARLY',
                title: '奥运会',
                description: '对手可以选择参加或抵制\n若参加，则你+2VP；若抵制，则核危机降低一级且你视为打出一张4点的牌用于行动\n（当核危机等级为2时，此事件失效且当前行动轮的玩家失去20VP）'
            },
            'NATO': {
                faction: 'US',
                point: '4',
                period: 'EARLY',
                title: '北大西洋公约组织.*',
                description: '（只有\'马歇尔计划\'或\'华沙条约组织成立\'发生后事件才能发生）\n苏联不再能在美国控制的任何欧洲国家发动政变或者调整阵容\n\'局部战争\'不能对美国控制的欧洲国家发动'
            },
            'IndependentReds': {
                faction: 'US',
                point: '2',
                period: 'EARLY',
                title: '独立的红色*',
                description: '在南斯拉夫、罗马尼亚、保加利亚、匈牙利或捷克斯洛伐克中的任意一个国家增加美国影响力使之等于苏联影响力'
            },
            'MarshallPlan': {
                faction: 'US',
                point: '4',
                period: 'EARLY',
                title: '马歇尔计划.*',
                description: '允许\'北大西洋公约组织\'发生\n在7个非苏联控制的西欧国家各增加1点美国影响力'
            },
            'IndoPakistaniWar': {
                faction: 'Neutral',
                point: '2',
                period: 'EARLY',
                title: '印度-巴基斯坦战争',
                description: '玩家增加2点军事行动\n选择印度或者巴基斯坦，若选中的国家没有邻国被对手控制，则玩家+2VP并将该国所有对手的影响力换成自己的影响力'
            },
            'Containment': {
                faction: 'US',
                point: '3',
                period: 'EARLY',
                title: '遏制战略.*',
                description: '美国本回合接下来使用的所有的牌点数+1（最大是4）'
            },
            'CIACreated': {
                faction: 'US',
                point: '1',
                period: 'EARLY',
                title: '建立中情局*',
                description: '美国下回合选牌时可以弃掉一张选牌并重选\n美国视为打出一张1点的牌用于行动'
            },
            'USJapanMutualDefensePact': {
                faction: 'US',
                point: '4',
                period: 'EARLY',
                title: '美日共同防御协定.*',
                description: '美国获得足以控制日本的影响力\n苏联不再能再在日本发动政变或调整阵容'
            },
            'SuezCrisis': {
                faction: 'USSR',
                point: '3',
                period: 'EARLY',
                title: '苏伊士运河危机*',
                description: '从法国、英国和以色列移除共4点美国影响力，每个国家不超过2点'
            },
            'EastEuropeanUnrest': {
                faction: 'US',
                point: '3',
                period: 'EARLY',
                title: '东欧动荡',
                description: '冷战早期或中期：从3个东欧国家各移除1点苏联影响力\n冷战后期：从3个东欧国家各移除2点苏联影响力'
            },
            'Decolonization': {
                faction: 'USSR',
                point: '2',
                period: 'EARLY',
                title: '去殖民化',
                description: '在4个非洲和或东南亚国家各增加1点苏联影响力'
            },
            'RedScarePurge': {
                faction: 'Neutral',
                point: '4',
                period: 'EARLY',
                title: '红色恐慌/肃清.',
                description: '对手本回合接下来使用的所有的牌行动值-1（最小是1）'
            },
            'UNIntervention': {
                faction: 'Neutral',
                point: '1',
                period: 'EARLY',
                title: '联合国干预',
                description: '选择弃置自己的一张敌方事件牌，获得此牌的点数用于行动而不会触发事件\n不能在头条打出'
            },
            'DeStalinization': {
                faction: 'USSR',
                point: '3',
                period: 'EARLY',
                title: '去斯大林化*',
                description: '苏联可以重新分配最多4点影响力到任何非美国控制的国家，每个国家最多放置2点'
            },
            'NuclearTestBan': {
                faction: 'Neutral',
                point: '4',
                period: 'EARLY',
                title: '禁止核试验',
                description: '玩家获得核危机等级减2的VP，然后核危机改善2级'
            },
            'FormosanResolution': {
                faction: 'US',
                point: '2',
                period: 'EARLY',
                title: '台湾决议案.*',
                description: '如果美国控制台湾，\'亚洲计分\'和终局计分时台湾将视为一个战场国\n若美国打出了中国牌，则此事件失效'
            },
            'Defectors': {
                faction: 'US',
                point: '2',
                period: 'EARLY',
                title: '背叛者',
                description: '若美国在头条阶段打出：苏联收回头条牌且头条事件失效，苏联需选择弃置一张点数大于1的苏联牌\n若苏联在行动轮打出：美国+1VP'
            },
            'TheCambridgeFive': {
                faction: 'USSR',
                point: '2',
                period: 'EARLY',
                title: '剑桥五杰',
                description: '苏联可以在美国持有的某张计分牌的区域增加一点苏联影响力\n冷战后期事件失效'
            },
            'SpecialRelationship': {
                faction: 'US',
                point: '2',
                period: 'EARLY',
                title: '英美特殊关系',
                description: '若美国控制英国但\'北大西洋公约组织\'没有生效：在英国的任一邻国增加1点美国影响力\n若美国控制英国且\'北大西洋公约组织\'生效：在一个西欧国家增加2点美国影响力且美国+2VP'
            },
            'NORAD': {
                faction: 'US',
                point: '3',
                period: 'EARLY',
                title: '北美空防司令部.*',
                description: '若美国控制加拿大，每当核危机等级移动到2时，美国可以在任一已有美国影响力的国家增加1点美国影响力\n\'泥潭\'会使已发生的\'北美航空司令部\'失效'
            },
            'BrushWar': {
                faction: 'Neutral',
                point: '3',
                period: 'MID',
                title: '局部战争',
                description: '玩家增加3点军事行动\n选择一个稳定系数为1或2的国家，若选中的国家没有至少两个邻国被对手控制，则玩家+1VP并将该国所有对手的影响力换成自己的影响力'
            },
            'CentralAmericaScoring': {
                faction: 'Neutral',
                point: '',
                period: 'MID',
                title: '中美洲计分',
                description: '存在: 1\n支配: 3\n控制: 5\n每控制一个战场国+1分\n每控制一个相邻对方超级大国的国家+1分\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'SoutheastAsiaScoring': {
                faction: 'Neutral',
                point: '',
                period: 'MID',
                title: '东南亚计分*',
                description: '每控制一个东南亚国家+1VP\n控制泰国额外+1VP\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'ArmsRace': {
                faction: 'Neutral',
                point: '3',
                period: 'MID',
                title: '军备竞赛',
                description: '如果己方的军事行动高于对手，获得1VP，若己方的军事行动高于对手且达到军事行动需求，则额外获得2VP'
            },
            'CubanMissileCrisis': {
                faction: 'Neutral',
                point: '3',
                period: 'MID',
                title: '古巴导弹危机.*',
                description: '核危机等级变为2\n本回合你的对手不可再进行任何政变\n任何时候苏联从古巴移除2点影响力或美国从西德或土耳其移除两点影响力可取消此影响'
            },
            'NuclearSubs': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '核潜艇.*',
                description: '本回合美国的政变不再影响核危机等级'
            },
            'Quagmire': {
                faction: 'USSR',
                point: '3',
                period: 'MID',
                title: '泥潭.*',
                description: '\'北美空防司令部\'失效\n美国必须跳过接下来的2个行动轮，每个跳过的行动轮弃掉一张牌以使此事件失效\n若美国弃置了一张记分牌：美国需立即再弃置一张牌，若美国已经没有手牌，则失去在越南、泰国和老挝/柬埔寨的所有影响力'
            },
            'SALTNegotiations': {
                faction: 'Neutral',
                point: '3',
                period: 'MID',
                title: '限制战略武器谈判.*',
                description: '核危机改善2级\n本回合接下来的所有政变点数减一\n玩家可以在其可选堆或所有弃牌堆中选择一张非计分牌加入手牌'
            },
            'BearTrap': {
                faction: 'US',
                point: '3',
                period: 'MID',
                title: '捕熊陷阱.*',
                description: '苏联必须跳过接下来的2个行动轮，每个跳过的行动轮弃掉一张牌以使此事件失效\n若苏联弃置了一张记分牌：苏联需立即再弃置一张牌，若苏联已经没有手牌，则失去在阿富汗和伊朗的所有影响力'
            },
            'Summit': {
                faction: 'Neutral',
                point: '1',
                period: 'MID',
                title: '首脑会议',
                description: '支配或控制区域总和多的玩家获得2VP并可将核危机移动一级'
            },
            'HowILearnedtoStopWorrying': {
                faction: 'Neutral',
                point: '2',
                period: 'MID',
                title: '我如何学会停止恐惧*',
                description: '设置核危机为你想要的等级\n你的军事行动值增加到5'
            },
            'Junta': {
                faction: 'Neutral',
                point: '2',
                period: 'MID',
                title: '军政府',
                description: '在任意一个中美洲或南美洲国家放置2点影响力\n然后可以用此牌的点数在其中的一个区域发起免费的政变或调整阵容'
            },
            'KitchenDebates': {
                faction: 'US',
                point: '1',
                period: 'MID',
                title: '厨房辩论*',
                description: '如果美国比苏联控制的战场国多，则美国获得2VP'
            },
            'MissileEnvy': {
                faction: 'Neutral',
                point: '2',
                period: 'MID',
                title: '导弹嫉妒',
                description: '用这张牌与敌方点数最大的手牌交换（如果有两张或以上符合条件的牌，则由对方选择）\n如果交换到的牌不是对方的事件牌，则立即发生事件；如果是对方的事件牌，则使用该牌的点数而不触发事件\n对方下一个行动轮必须只能将\'导弹嫉妒\'用于行动'
            },
            'WeWillBuryYou': {
                faction: 'USSR',
                point: '4',
                period: 'MID',
                title: '“我们要埋葬你们”*',
                description: '核危机等级降低一级\n在下一个美国行动轮，若美国没有作为事件打出\'联合国干预\'，苏联立即+3VP\n（当核危机等级为2时，此事件失效且当前行动轮的玩家失去20VP）'
            },
            'BrezhnevDoctrine': {
                faction: 'USSR',
                point: '3',
                period: 'MID',
                title: '勃列日涅夫主义*',
                description: '苏联本回合接下来使用的所有的牌点数+1（最大是4）'
            },
            'PortugueseEmpireCrumbles': {
                faction: 'USSR',
                point: '2',
                period: 'MID',
                title: '葡萄牙帝国崩溃*',
                description: '东南非诸国和安哥拉各增加2点苏联影响力'
            },
            'SouthAfricanUnrest': {
                faction: 'USSR',
                point: '2',
                period: 'MID',
                title: '南非动荡',
                description: '苏联可在南非增加2点苏联影响力或在南非增加1点影响力并在南非的邻国增加共2点影响力'
            },
            'Allende': {
                faction: 'USSR',
                point: '1',
                period: 'MID',
                title: '阿连德*',
                description: '智利增加2点苏联影响力'
            },
            'WillyBrandt': {
                faction: 'USSR',
                point: '2',
                period: 'MID',
                title: '维利·勃兰特.*',
                description: '苏联+1VP\n西德增加1点苏联影响力\n取消\'北大西洋公约组织\'对西德的影响\n\'推倒这堵墙\'发生后，此事件失效'
            },
            'MuslimRevolution': {
                faction: 'USSR',
                point: '4',
                period: 'MID',
                title: '穆斯林革命',
                description: '苏联可移除以下2个国家的所有美国影响力：苏丹，伊朗，伊拉克，埃及，利比亚，沙特阿拉伯，叙利亚，约旦\n\'向沙特出售空中警告与管制系统\'发生后此事件失效'
            },
            'ABMTreaty': {
                faction: 'Neutral',
                point: '4',
                period: 'MID',
                title: '反弹道导弹条约',
                description: '核危机改善一级\n然后玩家视为使用一张4点的牌用于行动'
            },
            'CulturalRevolution': {
                faction: 'USSR',
                point: '3',
                period: 'MID',
                title: '文化大革命*',
                description: '如果美国持有中国牌，苏联接收中国牌并变为就绪状态；如果苏联持有中国牌，苏联+1VP'
            },
            'FlowerPower': {
                faction: 'USSR',
                point: '4',
                period: 'MID',
                title: '花的力量.*',
                description: '美国将任何战争牌（朝鲜战争，阿拉伯-以色列战争，印度-巴基斯坦战争，局部战争，两伊战争）用于行动或事件时，苏联+2VP\n\'“邪恶帝国”\'发生后，此事件失效'
            },
            'U2Incident': {
                faction: 'USSR',
                point: '3',
                period: 'MID',
                title: 'U-2击坠事件.*',
                description: '苏联+1VP，本回合接下来将联合国干预作为事件打出者+1VP'
            },
            'OPEC': {
                faction: 'USSR',
                point: '3',
                period: 'MID',
                title: '石油输出国组织',
                description: '苏联每控制一个以下国家获得1VP：埃及，伊朗，利比亚，沙特阿拉伯，伊拉克，海湾诸国，委内瑞拉\n\'北海油田\'生效时，此事件失效'
            },
            'LoneGunman': {
                faction: 'USSR',
                point: '1',
                period: 'MID',
                title: '“独行枪手”*',
                description: '苏联下回合选牌时可以弃掉一张选牌并重选\n苏联视为打出一张1点的牌用于行动'
            },
            'ColonialRearGuards': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '殖民后卫',
                description: '美国可在4个非洲和或东南亚国家各增加1点美国影响力'
            },
            'PanamaCanalReturned': {
                faction: 'US',
                point: '1',
                period: 'MID',
                title: '归还巴拿马运河*',
                description: '巴拿马、哥斯达黎加、委内瑞拉增加1点美国影响力'
            },
            'CampDavidAccords': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '戴维营协议.*',
                description: '美国获得1VP\n以色列、约旦、埃及增加1点美国影响力\n\'阿拉伯-以色列战争\'失效'
            },
            'PuppetGovernments': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '傀儡政府*',
                description: '美国可在3个没有任何影响力的国家增加1点美国影响力'
            },
            'GrainSalestoSoviets': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '向苏联出售谷物',
                description: '如果苏联有手牌，美国可以选择一张苏联手牌如在行动轮一般打出'
            },
            'JohnPaulIIElectedPope': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '若望保禄二世当选教皇.*',
                description: '从波兰移除2点苏联影响力并增加1点美国影响力\n允许\'团结工会\'发生'
            },
            'LatinAmericanDeathSquads': {
                faction: 'Neutral',
                point: '2',
                period: 'MID',
                title: '拉丁美洲处决小队.',
                description: '本回合玩家在中美洲和南美洲的政变点数+1，对手在中美洲和南美洲的政变点数-1'
            },
            'OASFounded': {
                faction: 'US',
                point: '1',
                period: 'MID',
                title: '美洲国家组织成立*',
                description: '美国可在中美洲和或南美洲增加2点美国影响力'
            },
            'NixonPlaystheChinaCard': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '尼克松打出中国牌*',
                description: '如果美国持有中国牌，美国+2VP\n否则美国接收中国牌，中国牌变为未就绪状态'
            },
            'SadatExpelsSoviets': {
                faction: 'US',
                point: '1',
                period: 'MID',
                title: '萨达特驱逐苏联人员*',
                description: '从埃及移除所有苏联影响力并增加1点美国影响力'
            },
            'ShuttleDiplomacy': {
                faction: 'US',
                point: '3',
                period: 'MID',
                title: '穿梭外交.',
                description: '除终局计分外，下一次中东计分或亚洲计分苏联的战场国总数-1'
            },
            'TheVoiceofAmerica': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '美国之音',
                description: '美国可从非欧洲国家移除共4点苏联影响力，每个国家最多移除2点'
            },
            'LiberationTheology': {
                faction: 'USSR',
                point: '2',
                period: 'MID',
                title: '解放神学',
                description: '苏联可在中美洲增加3点苏联影响力，每个国家不超过2点'
            },
            'UssuriRiverSkirmish': {
                faction: 'US',
                point: '3',
                period: 'MID',
                title: '乌苏里江冲突*',
                description: '如果苏联持有中国牌，美国接收中国牌并变为就绪状态；如果美国持有中国牌，美国可在亚洲增加4点美国影响力，每个国家最多增加2点'
            },
            'AskNotWhatYourCountryCanDoForYou': {
                faction: 'US',
                point: '3',
                period: 'MID',
                title: '“不要问你的国家能为你做什么……”*',
                description: '\n\n美国玩家可以弃掉任意张手牌，然后从补充其手牌的牌堆中得到等量的牌'
            },
            'AllianceforProgress': {
                faction: 'US',
                point: '3',
                period: 'MID',
                title: '争取进步联盟*',
                description: '美国每在中美洲和南美洲控制一个战场国，就获得1VP'
            },
            'AfricaScoring': {
                faction: 'Neutral',
                point: '',
                period: 'MID',
                title: '非洲计分',
                description: '存在: 1\n支配: 4\n控制: 6\n每控制一个战场国+1分\n每控制一个相邻对方超级大国的国家+1分\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'OneSmallStep': {
                faction: 'Neutral',
                point: '2',
                period: 'MID',
                title: '“一小步……”',
                description: '如果玩家的太空竞赛进度落后，玩家太空竞赛前进2格但只获得第二格的VP奖励'
            },
            'SouthAmericaScoring': {
                faction: 'Neutral',
                point: '',
                period: 'MID',
                title: '南美洲计分',
                description: '存在: 2\n支配: 5\n控制: 6\n每控制一个战场国+1分\n每控制一个相邻对方超级大国的国家+1分\n该回合结束前必须打出此牌，否则失去20VP'
            },
            'Che': {
                faction: 'USSR',
                point: '3',
                period: 'MID',
                title: '切·格瓦拉',
                description: '苏联可以立即使用这张牌的点数在中美洲、南美洲、非洲中的一个非战场国发动一次政变\n如果这次政变移除了任何美国影响力，苏联可以在相同的限制下再发动一次政变'
            },
            'OurManinTehran': {
                faction: 'US',
                point: '2',
                period: 'MID',
                title: '我们的人在德黑兰*',
                description: '(只有美国控制了至少一个中东国家，此事件才能发生)\n美国可以按顺序对除终弃牌堆外的补充其手牌的牌堆中的最多5张牌选择是否弃置'
            },
            'IranianHostageCrisis': {
                faction: 'USSR',
                point: '3',
                period: 'LATE',
                title: '伊朗人质危机.*',
                description: '从伊朗移除所有美国影响力并增加2点苏联影响力\n\'恐怖主义\'对美国的效果翻倍'
            },
            'TheIronLady': {
                faction: 'US',
                point: '3',
                period: 'LATE',
                title: '铁娘子.*',
                description: '美国获得1VP\n在阿根廷增加1点苏联影响力，移除苏联在英国的所有影响力\n\'社会主义政府\'失效'
            },
            'ReaganBombsLibya': {
                faction: 'US',
                point: '2',
                period: 'LATE',
                title: '里根轰炸利比亚*',
                description: '利比亚每有2点苏联影响力，美国+1VP'
            },
            'StarWars': {
                faction: 'US',
                point: '2',
                period: 'LATE',
                title: '星球大战*',
                description: '(只有美国太空竞赛进度领先，此事件才能发生)\n美国可从任意弃牌堆或美国可选堆中选择一张非计分牌，该牌的事件立即发生'
            },
            'NorthSeaOil': {
                faction: 'US',
                point: '3',
                period: 'LATE',
                title: '北海油田.*',
                description: '石油输出国组织失效\n美国本回合可进行一个额外的行动轮'
            },
            'TheReformer': {
                faction: 'USSR',
                point: '3',
                period: 'LATE',
                title: '改革家.*',
                description: '如果苏联的VP领先：在欧洲增加6点美国影响力；如果苏联的VP没有领先，在欧洲增加4点美国影响力。（每个国家不超过2点）\n美国不能再在欧洲发动政变\n增强\'开放政策\'的效果'
            },
            'MarineBarracksBombing': {
                faction: 'USSR',
                point: '2',
                period: 'LATE',
                title: '海军陆战队军营炸弹袭击*',
                description: '移除黎巴嫩的所有美国影响力，苏联还可在中东额外移除2点美国影响力'
            },
            'SovietsShootDownKAL007': {
                faction: 'US',
                point: '4',
                period: 'LATE',
                title: '苏联击落大韩航空007号班机*',
                description: '核危机等级降低1级，美国获得2VP\n如果美国控制南韩，则视为美国打出一张4点的牌用于放置影响力或调整阵容\n（当核危机等级为2时，此事件失效且当前行动轮的玩家失去20VP）'
            },
            'Glasnost': {
                faction: 'USSR',
                point: '4',
                period: 'LATE',
                title: '开放政策*',
                description: '苏联获得2VP，核危机改善1级\n如果改革家生效，则视为苏联打出一张4点的牌用于放置影响力或调整阵容'
            },
            'OrtegaElectedinNicaragua': {
                faction: 'USSR',
                point: '2',
                period: 'LATE',
                title: '奥尔特加在尼加拉瓜当选*',
                description: '移除美国在尼加拉瓜的所有影响力\n苏联可以用这张牌的点数在尼加拉瓜的一个邻国进行一次免费的政变'
            },
            'Terrorism': {
                faction: 'Neutral',
                point: '2',
                period: 'LATE',
                title: '恐怖主义',
                description: '对手须弃置一张其阵营事件的牌\n如果此牌由苏联打出且\'伊朗人质危机\'生效，美国需再弃置一张美国牌\n如果对手没有其阵营事件的牌，对手弃置所有手牌'
            },
            'IranContraScandal': {
                faction: 'USSR',
                point: '2',
                period: 'LATE',
                title: '伊朗门丑闻.*',
                description: '本回合美国所有调整阵容点数-1'
            },
            'Chernobyl': {
                faction: 'US',
                point: '3',
                period: 'LATE',
                title: '切尔诺贝利.*',
                description: '美国可以指定一个区域，本回合苏联不能通过行动在此区域放置影响力'
            },
            'LatinAmericanDebtCrisis': {
                faction: 'USSR',
                point: '2',
                period: 'LATE',
                title: '拉丁美洲债务危机',
                description: '若美国不立即弃置一张点数大于2的手牌，苏联可选择翻倍在南美洲的2个国家的苏联影响力'
            },
            'TearDownthisWall': {
                faction: 'US',
                point: '3',
                period: 'LATE',
                title: '推倒这堵墙.*',
                description: '东德增加3点美国影响力\n然后美国可以使用此牌的点数在欧洲发动免费政变或调整阵容\n\'维利·勃兰特\'失效'
            },
            'AnEvilEmpire': {
                faction: 'US',
                point: '3',
                period: 'LATE',
                title: '“邪恶帝国”.*',
                description: '\'花的力量\'失效\n美国+1VP'
            },
            'AldrichAmesRemix': {
                faction: 'USSR',
                point: '3',
                period: 'LATE',
                title: '奥德里奇·艾姆斯*',
                description: '苏联可弃置美国玩家的一张手牌\n苏联下回合选牌时可以弃掉一张选牌并重选'
            },
            'PershingIIDeployed': {
                faction: 'USSR',
                point: '3',
                period: 'LATE',
                title: '部署潘兴Ⅱ*',
                description: '苏联获得1VP\n苏联可从西欧的3个国家各移除1点美国影响力'
            },
            'Wargames': {
                faction: 'Neutral',
                point: '4',
                period: 'LATE',
                title: '战争游戏*',
                description: '(核危机等级为2时，此事件才能发生)\n选择让对手获得<2/2/1/0/1/1>VP并取消<欧洲/亚洲/中东/中美洲/非洲/南美洲>的终局计分'
            },
            'Solidarity': {
                faction: 'US',
                point: '2',
                period: 'LATE',
                title: '团结工会*',
                description: '若望保禄二世当选教皇后此事件才会发生\n波兰增加3点美国影响力'
            },
            'IranIraqWar': {
                faction: 'Neutral',
                point: '2',
                period: 'LATE',
                title: '两伊战争*',
                description: '玩家获得2点军事行动\n选择伊朗或伊拉克，若选中的国家没有邻国被对手控制，则玩家+2VP并将该国所有对手的影响力换成自己的影响力'
            },
            'YuriandSamantha': {
                faction: 'USSR',
                point: '2',
                period: 'LATE',
                title: '尤里和萨曼莎.*',
                description: '本回合接下来，美国每发动一次政变，苏联获得1VP'
            },
            'AWACSSaletoSaudis': {
                faction: 'US',
                point: '3',
                period: 'LATE',
                title: '向沙特出售空中警告与管制系统.*',
                description: '沙特阿拉伯增加2点美国影响力\n\'穆斯林革命\'失效'
            },
        };

        // 更新选牌列表
        function updateCardsselectionList(cards) {
            const container = document.getElementById('cardsselection');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        // 更新美国手牌牌列表
        function updateUSCardsList(cards) {
            const container = document.getElementById('UScardscontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        // 更新苏联手牌列表
        function updateUSSRCardsList(cards) {
            const container = document.getElementById('USSRcardscontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        // 更新美国弃牌堆列表
        function updateUSDiscardList(cards) {
            const container = document.getElementById('USdiscardcontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        // 更新苏联弃牌堆列表
        function updateUSSRDiscardList(cards) {
            const container = document.getElementById('USSRdiscardcontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        // 更新最弃牌堆列表
        function updateFinalDiscardList(cards) {
            const container = document.getElementById('finaldiscardcontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新生效的事件
        function updateEffectiveEventsList(cards) {
            const container = document.getElementById('effectiveeventscontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新移出的卡牌
        function updateRemovedCardsList(cards) {
            const container = document.getElementById('removedcardscontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新美国可选堆
        function updateUSselectionList(cards) {
            const container = document.getElementById('USselectioncontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新苏联可选堆
        function updateUSSRselectionList(cards) {
            const container = document.getElementById('USSRselectioncontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新中国牌
        function updateUSTheChinaCard(cards) {
            const container = document.getElementById('UStheChinacardcontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        function updateUSSRTheChinaCard(cards) {
            const container = document.getElementById('USSRtheChinacardcontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新临时卡牌
        function updateTempCardsList(cards) {
            const container = document.getElementById('tempcardscontainer');
            container.innerHTML = ''; // 清空容器
            cards.forEach(cardName => {
                const btn = document.createElement('button');
                btn.className = 'card-button';

                //卡牌阵营和点数
                const faction = document.createElement('div');
                faction.className = `${cardDetails[cardName].faction}`;
                faction.textContent = cardDetails[cardName].point;

                //卡牌时期
                const period = document.createElement('div');
                period.className = `${cardDetails[cardName].period}`;
                period.textContent = cardDetails[cardName].period;
                
                // 添加卡牌标题
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = cardDetails[cardName].title;
                
                // 添加卡牌描述
                const description = document.createElement('span');
                description.className = 'card-description';
                description.textContent = cardDetails[cardName].description;
                
                btn.appendChild(faction);
                btn.appendChild(period);
                btn.appendChild(title);
                btn.appendChild(description);
                
                btn.onclick = () => {
                    if (cardActions[cardName]) {
                        cardActions[cardName]();
                    }
                };
                container.appendChild(btn);
            });
        }
        //更新国家影响力
        function updateInfluence(Countries) {
            document.querySelectorAll('.influence').forEach(c => c.classList.remove('active'));
            
            Object.entries(Countries).forEach(([countryName, country]) => {// 注意：这里使用解构赋值获取国家名称和数据
                if (country.usaInfluence > 0) {
                    const usElement = document.getElementById(`${countryName}USinfluence`);
                    if (usElement) {
                        usElement.classList.add('active');
                        usElement.innerText = country.usaInfluence;
                    }
                }
                if (country.ussrInfluence > 0) {
                    const ussrElement = document.getElementById(`${countryName}USSRinfluence`);
                    if (ussrElement) {
                        ussrElement.classList.add('active');
                        ussrElement.innerText = country.ussrInfluence;
                    }
                }
                if (country.usaInfluence - country.ussrInfluence >= country.stability) {
                    const usControlElement = document.getElementById(`${countryName}USinfluenceC`);
                    if (usControlElement) {
                        usControlElement.classList.add('active');
                        usControlElement.innerText = country.usaInfluence;
                    }
                }
                if (country.ussrInfluence - country.usaInfluence >= country.stability) {
                    const ussrControlElement = document.getElementById(`${countryName}USSRinfluenceC`);
                    if (ussrControlElement) {
                        ussrControlElement.classList.add('active');
                        ussrControlElement.innerText = country.ussrInfluence;
                    }
                }
            });
        }
        
        // 按钮点击事件：向服务器请求PDF
        document.getElementById('viewPdfBtn').addEventListener('click', () => {
            ws.send(JSON.stringify({ type: 'requestPdf' }));
        });

        // 当 WebSocket 连接建立时
        ws.onopen = () => {
            document.getElementById('loginStatus').innerText = '已连接';
            document.getElementById('connectionStatus').style.display = 'none';
        };

        // 当收到服务器消息时
        ws.onmessage = (event) => {
            data = JSON.parse(event.data);

            //聊天
            if (data.type === 'lobby_chat') {
                lobbyMessages.push({ username: data.username, message: data.message, timestamp: data.timestamp });
                if (chatMode === 'lobby' && chatWindow.classList.contains('active')) {
                    renderChatMessages();
                }
            }
            if (data.type === 'private_chat') {
                privateMessages.push({ username: data.username, message: data.message, timestamp: data.timestamp });
                if (chatMode === 'private' && chatWindow.classList.contains('active')) {
                    renderChatMessages();
                }
            }


            if (data.type === 'pdfUrl') {
            // 方案1：通过URL在新窗口打开PDF（推荐）
            /*
            window.open(data.data, '_blank'); // _blank表示新窗口
            */

            // 方案2：在当前页面嵌入PDF（使用iframe）
            /*
            const iframe = document.createElement('iframe');
            iframe.src = data.data;
            iframe.width = '100%';
            iframe.height = '600px';
            document.body.appendChild(iframe); // 添加到页面中
            */

            } else if (data.type === 'pdfData') {
            // 方案3：处理Base64编码的PDF（适合小文件）
            /*
            window.open(data.data, '_blank'); // 直接通过dataURL打开
            */

            //方案4：直接使用Base64 URL触发下载（某些浏览器可能会预览而非下载）
            const downloadLink = document.createElement('a');
            downloadLink.href = data.data; // 直接使用完整的data:URL
            downloadLink.download = 'TCW游戏简介.pdf';
            downloadLink.click();

            } else if (data.type === 'error') {
            alert('错误：' + data.message);
            }
            
            if (data.type === 'image') {
                // 设置 div 的背景图片
                const mapDiv = document.getElementById('map');
                mapDiv.style.backgroundImage = `url(${data.data})`;
            } else if (data.type === 'error') {
                console.error('Error:', data.message);
            }

            //接收到游戏结束
            if (data.stage === 'END') {
                showContainer('gameContainer');
                showGame('maingame');
                document.getElementById('gamemessage').innerText = data.message;
                document.getElementById('messageforyou').innerText = data.messageforyou;
                if (data.US === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演美国 冷战早期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演美国 冷战中期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演美国 冷战后期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                if (data.USSR === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战早期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战中期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战后期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                updateCardsselectionList(data.selectablecards);
                updateUSCardsList(data.UScards);
                updateUSSRCardsList(data.USSRcards);
                updateUSDiscardList(data.USdiscard);
                updateUSSRDiscardList(data.USSRdiscard);
                updateFinalDiscardList(data.finaldiscard);
                updateUSTheChinaCard(data.USChinacard);
                updateUSSRTheChinaCard(data.USSRChinacard);
                updateEffectiveEventsList(data.effectiveevents);
                updateRemovedCardsList(data.removedcards);
                updateInfluence(data.countries);
            }

            //接收到注册信息
            if (data.type === 'register_response') {
                document.getElementById('loginStatus').innerText = data.message;
                //为了防止忘记密码
                if (data.success) {
                    document.getElementById('password').value = '';
                }
            }

            //接收到登录信息
            if (data.type === 'login_response') {
                document.getElementById('loginStatus').innerText = data.message;
                if (data.success) {
                    username = document.getElementById('username').value.trim();
                    document.getElementById('loginContainer').classList.remove('active');
                    //怎么不直接把menuContainer设为active？
                    showContainer('menuContainer');
                    document.getElementById('menuStatus').innerText = data.message;
                }
            }

            //收到要显示在菜单的信息
            if (data.type === 'menuStatus') {
                document.getElementById('menuStatus').innerText = data.message;
            }

            //收到登出信息
            if (data.type === 'logout_response') {
                username = null;
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                document.getElementById('loginStatus').innerText = data.message;
                document.getElementById('menuContainer').classList.remove('active');
                showContainer('loginContainer');
            }

            //收到房间列表信息
            if (data.type === 'room_list') {
                updateRoomList(data.rooms);
            }

            //收到你离开的信息
            if (data.type === 'quit_response') {
                opponent = null;
                document.getElementById('gameContainer').classList.remove('active');
                showContainer('menuContainer');
                updateGameList(data.games);
            }

            //收到继续游戏列表的信息
            if (data.type === 'game_list') {
                updateGameList(data.games);
            }

            //收到一个正在选择阶段的游戏
            if (data.stage === 'choose') {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                document.getElementById('choosegame').classList.add('active');
                showContainer('gameContainer');
            }

            //收到游戏时收到的信息
            if (data.type === 'gameStatus') {
                document.getElementById('gameStatus').innerText = data.message;
            }

            //收到设置对手值的信息
            if (data.type === 'setopponent') {
                ws.send(JSON.stringify({ type: 'setopponent', opponent: data.opponent}));
            }

            //收到设置游戏的信息
            if (data.type === 'setgamename') {
                ws.send(JSON.stringify({ type: 'setgamename', gamename: data.gamename}));
            }

            //收到反应游戏
            if (data.stage === 'reactiongame') {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                showContainer('gameContainer');
                showGame('reactiongame');
                document.getElementById('gameStatus').innerText = '反应力测试，屏幕变红时快速按下，测试完毕需等待你的对手';
            }

            //收到开始选卡
            if (data.stage === 'choosecards') {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                showContainer('gameContainer');
                showGame('maingame');

                if(data.USSR === username) updateTempCardsList(data.USSRtempcards);
                if(data.US === username) updateTempCardsList(data.UStempcards);

                document.getElementById('tempcardscontainer').style.display = 'none';
                document.getElementById('jump').style.display = 'none';
                document.getElementById('aaaaa').style.display = 'none';
                document.getElementById('bbbbb').style.display = 'none';

                if (data.US === username && data.round === 1 && data.message === null) {document.getElementById('gamemessage').innerText = `你作为美国，将可放置${data.USbid}点额外影响力。等待苏联选牌`;}
                if (data.USSR === username && data.round === 1 && data.message === null) {document.getElementById('gamemessage').innerText = `你作为苏联，将可放置${data.USSRbid}点额外影响力。开始在选牌堆选择你的第一张牌`;}
                if (data.message !== null) {document.getElementById('gamemessage').innerText = data.message;}
                 if (data.messageforyou !== null) {document.getElementById('messageforyou').innerText = data.messageforyou;}
                if (data.US === username && data.round === 1) {document.getElementById('gamestate').innerText = `你作为美国，将可放置${data.USbid}点额外影响力    冷战早期    第${data.round}回合    ${data.currentturn}选牌    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}   苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                if (data.USSR === username && data.round === 1) {document.getElementById('gamestate').innerText = `你作为苏联，将可放置${data.USSRbid}点额外影响力    冷战早期    第${data.round}回合    ${data.currentturn}选牌    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                if (data.round > 1 && data.round < 4) {document.getElementById('gamestate').innerText = `冷战早期    第${data.round}回合    ${data.currentturn}选牌    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `冷战中期    第${data.round}回合    ${data.currentturn}选牌    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                if (data.round > 7) {document.getElementById('gamestate').innerText = `冷战后期    第${data.round}回合    ${data.currentturn}选牌    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                if (data.disselectUSSR !== 0 && data.USSR === username) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过';
                    document.getElementById('messageforyou').innerText += '，苏联可以选择弃置一张选牌堆的牌';
                    document.getElementById('tempcardscontainer').style.display = 'block';
                }
                if (data.disselectUS !== 0 && data.US === username) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过';
                    document.getElementById('messageforyou').innerText += '，美国可以选择弃置一张选牌堆的牌';
                    document.getElementById('tempcardscontainer').style.display = 'block';
                }
                if (data.spacediscardUSSR !== 0 && data.USSR === username) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过';
                    document.getElementById('messageforyou').innerText += '，苏联可以选择弃置一张手牌';
                }
                if (data.spacediscardUS !== 0 && data.US === username) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过';
                    document.getElementById('messageforyou').innerText += '，美国可以选择弃置一张手牌';
                }
                updateCardsselectionList(data.selectablecards);
                updateUSCardsList(data.UScards);
                updateUSSRCardsList(data.USSRcards);
                updateUSDiscardList(data.USdiscard);
                updateUSSRDiscardList(data.USSRdiscard);
                updateFinalDiscardList(data.finaldiscard);
                updateUSTheChinaCard(data.USChinacard);
                updateUSSRTheChinaCard(data.USSRChinacard);
                updateEffectiveEventsList(data.effectiveevents);
                updateRemovedCardsList(data.removedcards);
                
                updateInfluence(data.countries);

                if (data.selectablecards.length === 0 && data.USSRselection.length > 0 && data.USSRgiveupselection === 0 && data.USSRcards.length < data.maxcards && data.USSRdiscard.length > 0 && dara.USSR === username && data.currentturn === 'USSR') {
                    document.getElementById('bbbbb').style.display = 'block';
                    document.getElementById('gamemessage').innerText = '可选择跳过在可选堆选牌';
                }
                if (data.selectablecards.length === 0 && data.USselection.length > 0 && data.USgiveupselection === 0 && data.UScards.length < data.maxcards && data.USdiscard.length > 0 && dara.US === username && data.currentturn === 'US') {
                    document.getElementById('bbbbb').style.display = 'block';
                    document.getElementById('gamemessage').innerText = '可选择跳过在可选堆选牌';
                }
            }

            //收到初始设置或叫价奖励设置
            if (data.stage === 'setup' || data.stage === 'setupbid') {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                showContainer('gameContainer');
                showGame('maingame');
                document.getElementById('gamemessage').innerText = data.message;
                if (data.US === username) {document.getElementById('gamestate').innerText = `你扮演美国 冷战早期    第${data.round}回合    ${data.currentturn}放置影响力    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                if (data.USSR === username) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战早期    第${data.round}回合    ${data.currentturn}放置影响力    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                updateCardsselectionList(data.selectablecards);
                updateUSCardsList(data.UScards);
                updateUSSRCardsList(data.USSRcards);
                updateUSDiscardList(data.USdiscard);
                updateUSSRDiscardList(data.USSRdiscard);
                updateFinalDiscardList(data.finaldiscard);
                updateUSTheChinaCard(data.USChinacard);
                updateUSSRTheChinaCard(data.USSRChinacard);
                updateInfluence(data.countries);
            }

            //接收到查询历史记录
            if (data.type === 'HistoricalRecord') {
                showContainer('HistoricalContainer');
                updateHistoricalList(data.historical);
            }

            //收到开始头条
            if (data.stage === 'headline' && data.isNORAD === 0) {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                showContainer('gameContainer');
                showGame('maingame');

                document.getElementById('jump').style.display = 'none';
                document.getElementById('aaaaa').style.display = 'none';
                document.getElementById('bbbbb').style.display = 'none';

                document.getElementById('gamemessage').innerText = data.message;
                document.getElementById('messageforyou').innerText = data.messageforyou;
                if (data.US === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演美国 冷战早期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演美国 冷战中期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演美国 冷战后期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                if (data.USSR === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战早期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战中期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战后期    第${data.round}回合    ${data.currentturn}头条阶段    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                updateCardsselectionList(data.selectablecards);
                updateUSCardsList(data.UScards);
                updateUSSRCardsList(data.USSRcards);
                updateUSDiscardList(data.USdiscard);
                updateUSSRDiscardList(data.USSRdiscard);
                updateFinalDiscardList(data.finaldiscard);
                updateUSTheChinaCard(data.USChinacard);
                updateUSSRTheChinaCard(data.USSRChinacard);
                updateEffectiveEventsList(data.effectiveevents);
                updateRemovedCardsList(data.removedcards);
                updateUSselectionList(data.USselection);
                updateUSSRselectionList(data.USSRselection);
                updateInfluence(data.countries);
                if (data.round !== round) {
                    actiontype = '';
                    round = data.round;
                }
                if (data.turn !== turn) {
                    actiontype = '';
                    turn = data.turn;
                }
                if (((data.currentaction === 'USSR' && data.USSR === username) || (data.currentaction === 'US' && data.US === username)) && data.currentcard === '') {
                    document.getElementById('action').style.display = 'block';
                    //苏联击落大韩航空007号班机
                    if (data.isSovietsShootDownKAL007 === 1 || data.isGlasnost === 1 || data.isTearDownthisWall === 1) {
                        document.getElementById('actioncoup').style.display = 'nope';
                    }

                    if (data.effectiveevents.includes('VietnamRevolts') && data.USSR === username && data.isVietnamRevolts !== 1) {
                        document.getElementById('VietnamRevoltsbutton').style.display = 'block';
                    } else if (data.isVietnamRevolts === 1) {
                        document.getElementById('VietnamRevoltsbutton').style.display = 'none';
                    }
                }
                if (data.currentcard === '' && data.currentaction === '' && data.US === username && data.currentturn === 'US' && (data.UScards.length === 0 || data.spaceextraturn === 0)) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过该行动轮';
                }
                if (data.currentcard === '' && data.currentaction === '' && data.USSR === username && data.currentturn === 'USSR' && (data.UScards.length === 0 || data.spaceextraturn === 0)) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过该行动轮';
                }

                if (data.currentcard === 'Blockade' && data.US === username) {
                    document.getElementById('aaaaa').style.display = 'block';
                }
                if (data.currentcard === 'UNIntervention' && data.US === username) {
                    document.getElementById('aaaaa').style.display = 'block';
                }
                if (data.currentcard === 'SALTNegotiations' && data.US === username) {
                    document.getElementById('aaaaa').style.display = 'block';
                }

                if (data.currentcard === 'OlympicGames' && ((data.USSR === username && data.currentturn === 'US') || (data.US === username && data.currentturn === 'USSR'))) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '抵制';
                    cancel.onclick = () => {
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'boycott'}));
                        }
                        if (data.currentturn === 'USSR' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'boycott'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '参加';
                    confirm.onclick = () => {
                        //操作
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'participate'}));
                        }
                        if (data.currentturn === 'USSR' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'participate'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'IndoPakistaniWar' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR'))) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '印度';
                    cancel.onclick = () => {
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'India'}));
                        }
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'India'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '巴基斯坦';
                    confirm.onclick = () => {
                        //操作
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'Pakistan'}));
                        }
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'Pakistan'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'SummitUS' && data.US === username || data.currentcard === 'SummitUSSR' && data.USSR === username) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '改善一级';
                    cancel.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'up'}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'up'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '不改变';
                    confirm.onclick = () => {
                        //操作
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'nope'}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'nope'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    if (data.DEFCON >= 3) {
                        const down = document.createElement('button');
                        down.textContent = '降低一级';
                        down.onclick = () => {
                            //操作
                            if (data.US === username) {
                                ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'down'}));
                            }
                            if (data.USSR === username) {
                                ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'down'}));
                            }
                            //
                            document.getElementById('sure').innerHTML = '';
                            document.getElementById('messageforyou').innerText = '';
                        }
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                    if (data.DEFCON >= 3) {
                        sure.appendChild(down);
                    }
                }
                if (data.currentcard === 'HowILearnedtoStopWorrying' && data.US === username && data.currentturn === 'US' || data.currentcard === 'HowILearnedtoStopWorrying' && data.USSR === username && data.currentturn === 'USSR') {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const five = document.createElement('button');
                    five.textContent = '设置为5';
                    five.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 5}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 5}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const four = document.createElement('button');
                    four.textContent = '设置为4';
                    four.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 4}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 4}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const three = document.createElement('button');
                    three.textContent = '设置为3';
                    three.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 3}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 3}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const two = document.createElement('button');
                    two.textContent = '设置为2';
                    two.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 2}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 2}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(five);
                    sure.appendChild(four);
                    sure.appendChild(three);
                    sure.appendChild(two);
                }
                if (data.currentcard === 'OurManinTehran' && data.US === username) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', country: 'US', card: 'giveup'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'Chernobyl' && data.US === username) {
                    const sure = document.getElementById('messageforyou');
                    sure.innerHTML = '';

                    const Europe = document.createElement('button');
                    Europe.textContent = '欧洲';
                    Europe.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Europe'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Asia = document.createElement('button');
                    Asia.textContent = '亚洲';
                    Asia.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Asia'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const MiddleEast = document.createElement('button');
                    MiddleEast.textContent = '中东';
                    MiddleEast.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'MiddleEast'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const CentralAmerica = document.createElement('button');
                    CentralAmerica.textContent = '中美洲';
                    CentralAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'CentralAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Africa = document.createElement('button');
                    Africa.textContent = '非洲';
                    Africa.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Africa'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const SouthAmerica = document.createElement('button');
                    SouthAmerica.textContent = '南美洲';
                    SouthAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'SouthAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(Europe);
                    sure.appendChild(Asia);
                    sure.appendChild(MiddleEast);
                    sure.appendChild(CentralAmerica);
                    sure.appendChild(Africa);
                    sure.appendChild(SouthAmerica);
                }
                if (data.currentcard === 'IranIraqWar' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR'))) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '伊朗';
                    cancel.onclick = () => {
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'Iran'}));
                        }
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'Iran'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '伊拉克';
                    confirm.onclick = () => {
                        //操作
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'Iraq'}));
                        }
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'Iraq'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'Wargames' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR'))) {
                    const sure = document.getElementById('messageforyou');
                    sure.innerHTML = '';

                    const Europe = document.createElement('button');
                    Europe.textContent = '欧洲';
                    Europe.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Europe'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Asia = document.createElement('button');
                    Asia.textContent = '亚洲';
                    Asia.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Asia'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const MiddleEast = document.createElement('button');
                    MiddleEast.textContent = '中东';
                    MiddleEast.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'MiddleEast'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const CentralAmerica = document.createElement('button');
                    CentralAmerica.textContent = '中美洲';
                    CentralAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'CentralAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Africa = document.createElement('button');
                    Africa.textContent = '非洲';
                    Africa.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Africa'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const SouthAmerica = document.createElement('button');
                    SouthAmerica.textContent = '南美洲';
                    SouthAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'SouthAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(Europe);
                    sure.appendChild(Asia);
                    sure.appendChild(MiddleEast);
                    sure.appendChild(CentralAmerica);
                    sure.appendChild(Africa);
                    sure.appendChild(SouthAmerica);
                }
                if (data.currentcard === 'AskNotWhatYourCountryCanDoForYou' && data.US === username && data.selectablecards.length === 0 && data.USselection.length > 0 && data.isAskNotWhatYourCountryCanDoForYou > 0 && data.USdiscard.length > 0) {
                    document.getElementById('bbbbb').style.display = 'block';
                    document.getElementById('gamemessage').innerText = '可选择跳过在可选堆选牌';
                }

                //导弹嫉妒
                if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && data.currentevent === '' && (data.currentturn === 'USSR' && data.USSR === username && data.isBearTrap === 0 || data.currentturn === 'US' && data.US === username && data.isQuagmire === 0) && (data.isMissileEnvyUSSR > 0 && data.USSRcards.includes('MissileEnvy') && data.currentturn === 'USSR' && data.USSR === username || data.isMissileEnvyUS > 0 && data.UScards.includes('MissileEnvy') && data.currentturn === 'US' && data.US === username)) {
                    document.getElementById('messageforyou').innerText = `使用\'导弹嫉妒\'触发行动/太空竞赛`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const action = document.createElement('button');
                    action.textContent = '行动';
                    action.onclick = () => {
                        //操作
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'actionisMissileEnvy', superpower: 'USSR', card: 'isMissileEnvy'}));
                        }
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'actionisMissileEnvy', superpower: 'US', card: 'isMissileEnvy'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }
                    const space = document.createElement('button');
                    space.textContent = '太空竞赛';
                    space.onclick = () => {
                        //操作
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'USSR', card: 'isMissileEnvy', move: 1}));
                        }
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'US', card: 'isMissileEnvy', move: 1}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }
                    const space2 = document.createElement('button');
                    space2.textContent = '不推进的太空竞赛';
                    space2.onclick = () => {
                        //操作
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'USSR', card: 'isMissileEnvy', move: 0}));
                        }
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'US', card: 'isMissileEnvy', move: 0}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(action);
                    sure.appendChild(space);
                    sure.appendChild(space2);
                }
            }

            //收到开始行动轮
            if (data.stage === 'actionround' && data.isNORAD === 0) {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                showContainer('gameContainer');
                showGame('maingame');

                document.getElementById('jump').style.display = 'none';
                document.getElementById('aaaaa').style.display = 'none';
                document.getElementById('bbbbb').style.display = 'none';

                document.getElementById('gamemessage').innerText = data.message;
                document.getElementById('messageforyou').innerText = data.messageforyou;
                if (data.US === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演美国 冷战早期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演美国 冷战中期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演美国 冷战后期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                if (data.USSR === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战早期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战中期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战后期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                updateCardsselectionList(data.selectablecards);
                updateUSCardsList(data.UScards);
                updateUSSRCardsList(data.USSRcards);
                updateUSDiscardList(data.USdiscard);
                updateUSSRDiscardList(data.USSRdiscard);
                updateFinalDiscardList(data.finaldiscard);
                updateUSTheChinaCard(data.USChinacard);
                updateUSSRTheChinaCard(data.USSRChinacard);
                updateEffectiveEventsList(data.effectiveevents);
                updateRemovedCardsList(data.removedcards);
                updateUSselectionList(data.USselection);
                updateUSSRselectionList(data.USSRselection);
                updateInfluence(data.countries);
                if (data.round !== round) {
                    actiontype = '';
                    round = data.round;
                }
                if (data.turn !== turn) {
                    actiontype = '';
                    turn = data.turn;
                }
                if (((data.currentaction === 'USSR' && data.USSR === username) || (data.currentaction === 'US' && data.US === username)) && data.currentcard === '') {
                    document.getElementById('action').style.display = 'block';
                    //苏联击落大韩航空007号班机
                    if (data.isSovietsShootDownKAL007 === 1 || data.isGlasnost === 1 || data.isTearDownthisWall === 1) {
                        document.getElementById('actioncoup').style.display = 'nope';
                    }

                    if (data.effectiveevents.includes('VietnamRevolts') && data.USSR === username && data.isVietnamRevolts !== 1) {
                        document.getElementById('VietnamRevoltsbutton').style.display = 'block';
                    } else if (data.isVietnamRevolts === 1) {
                        document.getElementById('VietnamRevoltsbutton').style.display = 'none';
                    }
                }
                if (data.currentcard === '' && data.currentaction === '' && data.US === username && data.currentturn === 'US' && (data.UScards.length === 0 || data.spaceextraturn === 0)) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过该行动轮';
                }
                if (data.currentcard === '' && data.currentaction === '' && data.USSR === username && data.currentturn === 'USSR' && (data.UScards.length === 0 || data.spaceextraturn === 0)) {
                    document.getElementById('jump').style.display = 'block';
                    document.getElementById('jumpmessage').innerText = '可选择跳过该行动轮';
                }

                if (data.currentcard === 'Blockade' && data.US === username) {
                    document.getElementById('aaaaa').style.display = 'block';
                }
                if (data.currentcard === 'UNIntervention' && data.US === username) {
                    document.getElementById('aaaaa').style.display = 'block';
                }
                if (data.currentcard === 'SALTNegotiations' && data.US === username) {
                    document.getElementById('aaaaa').style.display = 'block';
                }

                if (data.currentcard === 'OlympicGames' && ((data.USSR === username && data.currentturn === 'US') || (data.US === username && data.currentturn === 'USSR'))) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '抵制';
                    cancel.onclick = () => {
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'boycott'}));
                        }
                        if (data.currentturn === 'USSR' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'boycott'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '参加';
                    confirm.onclick = () => {
                        //操作
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'participate'}));
                        }
                        if (data.currentturn === 'USSR' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'participate'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'IndoPakistaniWar' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR'))) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '印度';
                    cancel.onclick = () => {
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'India'}));
                        }
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'India'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '巴基斯坦';
                    confirm.onclick = () => {
                        //操作
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'Pakistan'}));
                        }
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'Pakistan'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'SummitUS' && data.US === username || data.currentcard === 'SummitUSSR' && data.USSR === username) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '改善一级';
                    cancel.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'up'}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'up'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '不改变';
                    confirm.onclick = () => {
                        //操作
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'nope'}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'nope'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    if (data.DEFCON >= 3) {
                        const down = document.createElement('button');
                        down.textContent = '降低一级';
                        down.onclick = () => {
                            //操作
                            if (data.US === username) {
                                ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'down'}));
                            }
                            if (data.USSR === username) {
                                ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'down'}));
                            }
                            //
                            document.getElementById('sure').innerHTML = '';
                            document.getElementById('messageforyou').innerText = '';
                        }
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                    if (data.DEFCON >= 3) {
                        sure.appendChild(down);
                    }
                }
                if (data.currentcard === 'HowILearnedtoStopWorrying' && data.US === username && data.currentturn === 'US' || data.currentcard === 'HowILearnedtoStopWorrying' && data.USSR === username && data.currentturn === 'USSR') {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const five = document.createElement('button');
                    five.textContent = '设置为5';
                    five.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 5}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 5}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const four = document.createElement('button');
                    four.textContent = '设置为4';
                    four.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 4}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 4}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const three = document.createElement('button');
                    three.textContent = '设置为3';
                    three.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 3}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 3}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const two = document.createElement('button');
                    two.textContent = '设置为2';
                    two.onclick = () => {
                        if (data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 2}));
                        }
                        if (data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 2}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(five);
                    sure.appendChild(four);
                    sure.appendChild(three);
                    sure.appendChild(two);
                }
                if (data.currentcard === 'OurManinTehran' && data.US === username) {
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const confirm = document.createElement('button');
                    confirm.textContent = '完成';
                    confirm.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', country: 'US', card: 'giveup'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'Chernobyl' && data.US === username) {
                    const sure = document.getElementById('messageforyou');
                    sure.innerHTML = '';

                    const Europe = document.createElement('button');
                    Europe.textContent = '欧洲';
                    Europe.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Europe'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Asia = document.createElement('button');
                    Asia.textContent = '亚洲';
                    Asia.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Asia'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const MiddleEast = document.createElement('button');
                    MiddleEast.textContent = '中东';
                    MiddleEast.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'MiddleEast'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const CentralAmerica = document.createElement('button');
                    CentralAmerica.textContent = '中美洲';
                    CentralAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'CentralAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Africa = document.createElement('button');
                    Africa.textContent = '非洲';
                    Africa.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Africa'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const SouthAmerica = document.createElement('button');
                    SouthAmerica.textContent = '南美洲';
                    SouthAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'SouthAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(Europe);
                    sure.appendChild(Asia);
                    sure.appendChild(MiddleEast);
                    sure.appendChild(CentralAmerica);
                    sure.appendChild(Africa);
                    sure.appendChild(SouthAmerica);
                }
                if (data.currentcard === 'IranIraqWar' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR'))) {
                    document.getElementById('messageforyou').innerText = data.messageforyou;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const cancel = document.createElement('button');
                    cancel.textContent = '伊朗';
                    cancel.onclick = () => {
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'Iran'}));
                        }
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'Iran'}));
                        }
                        
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const confirm = document.createElement('button');
                    confirm.textContent = '伊拉克';
                    confirm.onclick = () => {
                        //操作
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'US', what: 'Iraq'}));
                        }
                        if (data.currentturn === 'US' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'feedback', superpower: 'USSR', what: 'Iraq'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(cancel);
                    sure.appendChild(confirm);
                }
                if (data.currentcard === 'Wargames' && ((data.US === username && data.currentturn === 'US') || (data.USSR === username && data.currentturn === 'USSR'))) {
                    const sure = document.getElementById('messageforyou');
                    sure.innerHTML = '';

                    const Europe = document.createElement('button');
                    Europe.textContent = '欧洲';
                    Europe.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Europe'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Asia = document.createElement('button');
                    Asia.textContent = '亚洲';
                    Asia.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Asia'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const MiddleEast = document.createElement('button');
                    MiddleEast.textContent = '中东';
                    MiddleEast.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'MiddleEast'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const CentralAmerica = document.createElement('button');
                    CentralAmerica.textContent = '中美洲';
                    CentralAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'CentralAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const Africa = document.createElement('button');
                    Africa.textContent = '非洲';
                    Africa.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'Africa'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    const SouthAmerica = document.createElement('button');
                    SouthAmerica.textContent = '南美洲';
                    SouthAmerica.onclick = () => {
                        //操作
                        ws.send(JSON.stringify({ type: 'feedback', region: 'SouthAmerica'}));
                        //
                        document.getElementById('messageforyou').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(Europe);
                    sure.appendChild(Asia);
                    sure.appendChild(MiddleEast);
                    sure.appendChild(CentralAmerica);
                    sure.appendChild(Africa);
                    sure.appendChild(SouthAmerica);
                }
                if (data.currentcard === 'AskNotWhatYourCountryCanDoForYou' && data.US === username && data.selectablecards.length === 0 && data.USselection.length > 0 && data.isAskNotWhatYourCountryCanDoForYou > 0 && data.USdiscard.length > 0) {
                    document.getElementById('bbbbb').style.display = 'block';
                    document.getElementById('gamemessage').innerText = '可选择跳过在可选堆选牌';
                }
                
                //导弹嫉妒
                if (data.stage === 'actionround' && data.currentcard === '' && data.currentaction === '' && data.currentevent === '' && (data.currentturn === 'USSR' && data.USSR === username && data.isBearTrap === 0 || data.currentturn === 'US' && data.US === username && data.isQuagmire === 0) && (data.isMissileEnvyUSSR > 0 && data.USSRcards.includes('MissileEnvy') && data.currentturn === 'USSR' && data.USSR === username || data.isMissileEnvyUS > 0 && data.UScards.includes('MissileEnvy') && data.currentturn === 'US' && data.US === username)) {
                    document.getElementById('messageforyou').innerText = `使用\'导弹嫉妒\'触发行动/太空竞赛`;
                    const sure = document.getElementById('sure');
                    sure.innerHTML = '';

                    const action = document.createElement('button');
                    action.textContent = '行动';
                    action.onclick = () => {
                        //操作
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'actionisMissileEnvy', superpower: 'USSR', card: 'isMissileEnvy'}));
                        }
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'actionisMissileEnvy', superpower: 'US', card: 'isMissileEnvy'}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }
                    const space = document.createElement('button');
                    space.textContent = '太空竞赛';
                    space.onclick = () => {
                        //操作
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'USSR', card: 'isMissileEnvy', move: 1}));
                        }
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'US', card: 'isMissileEnvy', move: 1}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }
                    const space2 = document.createElement('button');
                    space2.textContent = '不推进的太空竞赛';
                    space2.onclick = () => {
                        //操作
                        if (data.currentturn === 'USSR' && data.USSR === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'USSR', card: 'isMissileEnvy', move: 0}));
                        }
                        if (data.currentturn === 'US' && data.US === username) {
                            ws.send(JSON.stringify({type: 'spaceisMissileEnvy', superpower: 'US', card: 'isMissileEnvy', move: 0}));
                        }
                        //
                        document.getElementById('sure').innerHTML = '';
                        document.getElementById('messageforyou').innerText = '';
                    }

                    sure.appendChild(action);
                    sure.appendChild(space);
                    sure.appendChild(space2);
                }

            }

            //北美空防司令部
            if (data.isNORAD > 0) {
                if (username === data.player1) opponent = data.player2;
                if (username === data.player2) opponent = data.player1;
                showContainer('gameContainer');
                showGame('maingame');
                document.getElementById('gamemessage').innerText = '北美空防司令部：';
                document.getElementById('messageforyou').innerText = '等待美国在任一已有美国影响力的国家增加1点美国影响力';
                if (data.US === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演美国 冷战早期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演美国 冷战中期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演美国 冷战后期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
                if (data.USSR === username) {
                    if (data.round < 4) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战早期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 3 && data.round < 8) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战中期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                    if (data.round > 7) {document.getElementById('gamestate').innerText = `你扮演苏联 冷战后期    第${data.round}回合   第${data.turn/2}行动轮    ${data.currentturn}行动    核危机等级：${data.DEFCON}    美国军事行动：${data.militaryUS}    苏联军事行动：${data.militaryUSSR}    美国太空竞赛：${data.spaceUS}    苏联太空竞赛：${data.spaceUSSR}    VP：${data.VP > 0 ? '美国' + data.VP : data.VP < 0 ? '苏联' + (-data.VP) : '0'}`;}
                }
            }
        };

        // 当连接关闭时
        ws.onclose = () => {
            document.getElementById('connectionStatus').style.display = 'block';
        };

        // 当发生错误时
        ws.onerror = (error) => {
            document.getElementById('connectionStatus').style.display = 'block';
        };

        // 发送消息
        sendButton.onclick = () => {
            const message = messageInput.value.trim();
            if (message) {
                const data = {
                    type: chatMode === 'lobby' ? 'lobby_chat' : 'private_chat',
                    username: username,
                    message: message
                };
                if (chatMode === 'private' && opponent) {
                    data.opponent = opponent;
                }
                ws.send(JSON.stringify(data));
                messageInput.value = '';
            }
        };

        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendButton.click();
            }
        });
    </script>
</body>
</html>